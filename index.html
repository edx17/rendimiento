<!DOCTYPE html>
<html lang="es-AR" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Rendimiento Pro - Libertadores Futsal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #020617; color: #f8fafc; }
        .glass-panel { background: rgba(15, 23, 42, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.05); border-radius: 1.25rem; }
        .btn-nav { transition: all 0.2s ease; cursor: pointer; flex-shrink: 0; }
        .btn-nav.active { background-color: #10b981; color: #020617; box-shadow: 0 0 15px rgba(16, 185, 129, 0.4); } 
        .custom-scrollbar::-webkit-scrollbar { width: 4px; height: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        canvas { max-height: 350px; width: 100% !important; }
        .metric-card { background: rgba(2, 6, 23, 0.6); border: 1px solid rgba(51, 65, 85, 0.5); }
        .text-club-yellow { color: #f59e0b; }
        .text-club-green { color: #10b981; }
        .bg-club-yellow { background-color: #f59e0b; }
        .bg-club-green { background-color: #10b981; }
        .tooltip { position: relative; display: inline-block; }
        .tooltip .tooltiptext {
            visibility: hidden; width: 280px; background-color: #1e293b; color: #cbd5e1;
            text-align: left; border-radius: 6px; padding: 10px; position: absolute; z-index: 100;
            top: 125%; left: 50%; transform: translateX(-50%); font-size: 0.7rem; font-weight: normal;
            border: 1px solid #334155; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.5);
        }
        @media (min-width: 768px) { .tooltip .tooltiptext { width: 320px; } }
        .tooltip:hover .tooltiptext { visibility: visible; }
        .table-container { width: 100%; overflow-x: auto; }
        .table-container table { min-width: 450px; }
    </style>
</head>
<body class="min-h-screen relative pb-10">

    <header class="bg-slate-900/95 border-b border-slate-800 p-3 md:p-4 sticky top-0 z-40 backdrop-blur-xl">
        <div class="max-w-[1400px] mx-auto flex flex-col lg:flex-row items-center justify-between gap-4 md:gap-6">
            <div class="flex items-center gap-3 md:gap-5 w-full lg:w-auto justify-center lg:justify-start">
                <img src="EscudoLiber.png" alt="Escudo Libertadores" class="w-12 h-12 md:w-16 md:h-16 object-contain bg-white rounded-2xl p-1.5 shadow-2xl border border-slate-700" onerror="this.style.display='none'">
                <div class="text-center lg:text-left">
                    <h1 class="text-xl md:text-2xl font-black tracking-tighter uppercase leading-none italic text-club-green">LSC <span class="text-club-yellow">PRO</span></h1>
                    <p class="text-[9px] md:text-[10px] text-slate-500 font-bold uppercase tracking-[0.2em] mt-1">Depto. Rendimiento ‚Ä¢ 1ra AFA</p>
                </div>
            </div>
            
            <div class="flex flex-col md:flex-row items-center gap-3 md:gap-4 w-full lg:w-auto">
                <div class="flex items-center justify-between lg:justify-start gap-2 bg-slate-950 p-2 rounded-xl border border-slate-800 w-full md:w-auto">
                    <label for="csv-upload" class="cursor-pointer bg-slate-800 hover:bg-slate-700 text-[10px] md:text-xs font-black uppercase text-slate-300 px-4 py-2 rounded-lg transition-colors flex-grow text-center">
                        SUBIR DB (.CSV)
                    </label>
                    <input type="file" id="csv-upload" accept=".csv" class="hidden" onchange="handleCSVUpload(event)">
                    <div class="tooltip cursor-help bg-slate-800 text-slate-400 w-8 h-8 md:w-6 md:h-6 flex items-center justify-center rounded-full text-xs font-black border border-slate-700 flex-shrink-0">
                        !
                        <span class="tooltiptext uppercase tracking-wider leading-relaxed">
                            <strong class="text-club-yellow">Formato (Separador ';')</strong><br><br>
                            Columnas Base:<br>
                            Nombre;Puesto;Pierna;Fecha;Peso;Talla;%Musc;%Adip;Visc;IMC;EdMet;Yoyo25;Yoyo26;CMJ;ABK;CMJ_Der;CMJ_Izq;Broad;Broad_Der;Broad_Izq;K_Tobillos;K_Cadera;K_Unipodal;K_Sentadilla
                        </span>
                    </div>
                </div>

                <nav class="flex w-full overflow-x-auto hide-scrollbar p-1.5 bg-slate-950/80 rounded-2xl border border-slate-800 gap-1 md:gap-0">
                    <button onclick="setTab('individual')" id="tab-individual" class="btn-nav active px-3 md:px-4 py-2 rounded-xl text-[10px] md:text-xs font-black uppercase whitespace-nowrap">F√çSICO</button>
                    <button onclick="setTab('nutri')" id="tab-nutri" class="btn-nav px-3 md:px-4 py-2 rounded-xl text-[10px] md:text-xs font-black uppercase text-slate-400 whitespace-nowrap">NUTRICI√ìN</button>
                    <button onclick="setTab('general')" id="tab-general" class="btn-nav px-3 md:px-4 py-2 rounded-xl text-[10px] md:text-xs font-black uppercase text-slate-400 whitespace-nowrap">EQUIPO</button>
                    <button onclick="setTab('compare')" id="tab-compare" class="btn-nav px-3 md:px-4 py-2 rounded-xl text-[10px] md:text-xs font-black uppercase text-slate-400 whitespace-nowrap">COMPARE</button>
                </nav>
            </div>
        </div>
    </header>

    <main class="max-w-[1400px] mx-auto px-3 md:px-4 py-6 md:py-8 relative">

        <div id="nutri-modal" class="hidden fixed inset-0 z-[100] bg-slate-950/95 backdrop-blur-md flex items-center justify-center p-2 md:p-4 transition-opacity">
            <div class="glass-panel w-full max-w-3xl max-h-[90vh] overflow-y-auto custom-scrollbar p-5 md:p-8 relative border-emerald-500/30">
                <button onclick="closeNutriModal()" class="absolute top-3 right-4 md:top-4 md:right-4 text-slate-400 hover:text-white font-black text-3xl transition-colors">&times;</button>
                <div class="mb-6 border-b border-slate-800 pb-4 pr-6">
                    <p class="text-[9px] md:text-[10px] font-black uppercase tracking-widest text-slate-500 mb-1">Prescripci√≥n Dietaria</p>
                    <h2 class="text-xl md:text-2xl font-black uppercase text-club-green">Plan: <span id="modal-player-name" class="text-white"></span></h2>
                </div>
                <div id="modal-plan-content" class="text-sm text-slate-300 space-y-6 font-medium leading-relaxed"></div>
            </div>
        </div>

        <div id="video-modal" class="hidden fixed inset-0 z-[110] bg-slate-950/95 backdrop-blur-md flex items-center justify-center p-4 transition-opacity">
            <div class="glass-panel w-full max-w-sm p-4 relative border-purple-500/30 flex flex-col items-center">
                <button onclick="closeVideoModal()" class="absolute top-2 right-3 text-slate-400 hover:text-white font-black text-2xl transition-colors">&times;</button>
                <div class="w-full mb-4 border-b border-slate-800 pb-2 pr-6">
                    <p class="text-[9px] md:text-[10px] font-black uppercase tracking-widest text-slate-500 mb-1">Prescripci√≥n de Ejercicio</p>
                    <h2 id="video-modal-title" class="text-sm md:text-base font-black uppercase text-purple-400">--</h2>
                </div>
                <div class="w-full aspect-[9/16] bg-black rounded-lg overflow-hidden border border-slate-800 relative">
                    <iframe id="video-iframe" class="absolute top-0 left-0 w-full h-full" src="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
            </div>
        </div>

        <section id="view-individual" class="space-y-6 animate-in fade-in duration-300">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
                <div class="lg:col-span-3">
                    <div class="glass-panel p-5 md:p-6 sticky top-32">
                        <select id="player-select" onchange="renderIndividual()" class="w-full bg-slate-900 border border-slate-700 rounded-xl p-3 text-sm font-black focus:ring-2 focus:ring-emerald-500 appearance-none mb-6 cursor-pointer text-club-yellow"></select>
                        <div class="text-center border-b border-slate-800 pb-6 mb-6">
                            <h2 class="text-xl md:text-2xl font-black uppercase tracking-tighter" id="ind-name">--</h2>
                            <h3 class="text-xs md:text-sm text-slate-400 font-bold uppercase" id="ind-surname">--</h3>
                            <div class="inline-block mt-3 px-3 py-1 bg-slate-800 border border-slate-700 rounded-md">
                                <p class="text-[9px] md:text-[10px] font-black uppercase tracking-widest text-club-green" id="ind-pos">--</p>
                            </div>
                        </div>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center p-2.5 bg-slate-900/50 rounded-lg"><span class="text-[9px] md:text-[10px] text-slate-500 font-bold uppercase">Evaluaci√≥n</span><span class="text-xs font-black text-slate-200" id="ind-date">--</span></div>
                            <div class="flex justify-between items-center p-2.5 bg-slate-900/50 rounded-lg"><span class="text-[9px] md:text-[10px] text-slate-500 font-bold uppercase">Pierna H√°bil</span><span class="text-xs font-black text-slate-200" id="ind-leg">--</span></div>
                            <div class="flex justify-between items-center p-2.5 bg-slate-900/50 rounded-lg"><span class="text-[9px] md:text-[10px] text-slate-500 font-bold uppercase">Peso (kg)</span><span class="text-xs font-black text-slate-200" id="ind-weight">--</span></div>
                            <div class="flex justify-between items-center p-2.5 bg-slate-900/50 rounded-lg"><span class="text-[9px] md:text-[10px] text-slate-500 font-bold uppercase">Talla (cm)</span><span class="text-xs font-black text-slate-200" id="ind-height">--</span></div>
                        </div>
                    </div>
                </div>
                <div class="lg:col-span-9 space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="glass-panel p-5 md:p-6 flex flex-col">
                            <h3 class="text-[10px] md:text-xs font-black uppercase mb-4 border-b border-slate-800 pb-2 text-club-yellow">Composici√≥n Corporal (Bipedancia)</h3>
                            <div class="table-container mb-4">
                                <table class="w-full text-left text-xs">
                                    <thead><tr class="text-[8px] md:text-[9px] uppercase text-slate-500 border-b border-slate-800"><th class="py-2">M√©trica</th><th class="py-2 text-center text-club-yellow">Jugador</th><th class="py-2 text-center">Equipo</th><th class="py-2 text-center text-emerald-500">Elite</th></tr></thead>
                                    <tbody class="font-black text-slate-200">
                                        <tr class="border-b border-slate-800/50"><td class="py-2 text-[9px] md:text-[10px] text-slate-400 uppercase">M√∫sculo %</td><td class="py-2 text-center" id="ind-musc">--</td><td class="py-2 text-center text-slate-400" id="ind-eq-musc">--</td><td class="py-2 text-center text-emerald-500">48.0</td></tr>
                                        <tr class="border-b border-slate-800/50"><td class="py-2 text-[9px] md:text-[10px] text-slate-400 uppercase">Adiposidad %</td><td class="py-2 text-center" id="ind-adip">--</td><td class="py-2 text-center text-slate-400" id="ind-eq-adip">--</td><td class="py-2 text-center text-emerald-500">11.0</td></tr>
                                        <tr class="border-b border-slate-800/50"><td class="py-2 text-[9px] md:text-[10px] text-slate-400 uppercase">Visceral</td><td class="py-2 text-center" id="ind-visc">--</td><td class="py-2 text-center text-slate-400" id="ind-eq-visc">--</td><td class="py-2 text-center text-emerald-500">4.0</td></tr>
                                        <tr class="border-b border-slate-800/50"><td class="py-2 text-[9px] md:text-[10px] text-slate-400 uppercase">IMC</td><td class="py-2 text-center" id="ind-imc">--</td><td class="py-2 text-center text-slate-400" id="ind-eq-imc">--</td><td class="py-2 text-center text-emerald-500">23.0</td></tr>
                                        <tr><td class="py-2 text-[9px] md:text-[10px] text-slate-400 uppercase">Edad Met.</td><td class="py-2 text-center text-club-yellow" id="ind-edmet">--</td><td class="py-2 text-center text-slate-400" id="ind-eq-edmet">--</td><td class="py-2 text-center text-emerald-500">20.0</td></tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="flex-grow relative min-h-[150px]"><canvas id="chart-ind-comp"></canvas></div>
                        </div>
                        <div class="glass-panel p-5 md:p-6 flex flex-col">
                            <div class="flex justify-between items-center mb-4 border-b border-slate-800 pb-2">
                                <h3 class="text-[10px] md:text-xs font-black uppercase text-club-green">Yo-Yo Test Evolutivo</h3>
                                <div class="px-2 py-1 rounded bg-slate-900 border border-slate-700"><span class="text-[8px] md:text-[9px] font-black uppercase text-slate-400">DIF: </span><span class="text-[9px] md:text-[10px] font-black" id="ind-yoyo-dif">--</span></div>
                            </div>
                            <div class="grid grid-cols-4 gap-1 md:gap-2 mb-4">
                                <div class="metric-card p-1.5 md:p-2 text-center rounded-lg"><span class="text-[7px] md:text-[8px] text-slate-500 font-black uppercase block">A√±o 2025</span><span class="text-xs md:text-sm font-black text-slate-300" id="ind-y25">--</span></div>
                                <div class="metric-card p-1.5 md:p-2 text-center rounded-lg border-b-2 border-b-club-green bg-slate-900"><span class="text-[7px] md:text-[8px] text-club-green font-black uppercase block">Actual 2026</span><span class="text-xs md:text-sm font-black text-white" id="ind-y26">--</span></div>
                                <div class="metric-card p-1.5 md:p-2 text-center rounded-lg"><span class="text-[7px] md:text-[8px] text-slate-400 font-black uppercase block">Prom. Equipo</span><span class="text-xs md:text-sm font-black text-slate-300" id="ind-eq-yoyo">--</span></div>
                                <div class="metric-card p-1.5 md:p-2 text-center rounded-lg border border-emerald-500/30"><span class="text-[7px] md:text-[8px] text-emerald-500 font-black uppercase block">Ideal Elite</span><span class="text-xs md:text-sm font-black text-emerald-400">21.0</span></div>
                            </div>
                            <div class="flex-grow relative min-h-[150px]"><canvas id="chart-ind-yoyo"></canvas></div>
                        </div>
                    </div>
                    <div class="glass-panel p-5 md:p-6">
                        <h3 class="text-[10px] md:text-xs font-black uppercase mb-4 border-b border-slate-800 pb-2 text-slate-100">Evaluaci√≥n de Potencia, Asimetr√≠as y Comparativa</h3>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8">
                            <div class="table-container">
                                <table class="w-full text-left text-xs">
                                    <thead><tr class="text-[8px] md:text-[9px] uppercase text-slate-500 border-b border-slate-800"><th class="py-2">M√©trica</th><th class="py-2 text-center text-club-yellow">Total</th><th class="py-2 text-center">Der</th><th class="py-2 text-center">Izq</th><th class="py-2 text-center">DIF(Asim%)</th><th class="py-2 text-center text-slate-400">Equipo</th><th class="py-2 text-right text-emerald-500">Elite</th></tr></thead>
                                    <tbody class="font-black text-slate-200">
                                        <tr class="border-b border-slate-800/50"><td class="py-3 text-[9px] md:text-[10px] text-slate-400 uppercase">CMJ (cm)</td><td class="py-3 text-center text-club-yellow" id="pot-cmj">--</td><td class="py-3 text-center" id="pot-cmjd">--</td><td class="py-3 text-center" id="pot-cmji">--</td><td class="py-3 text-center whitespace-nowrap"><span id="pot-difc">--</span> (<span id="pot-asymc">--</span>)</td><td class="py-3 text-center text-slate-400" id="pot-eq-cmj">--</td><td class="py-3 text-right text-emerald-500">45.0</td></tr>
                                        <tr class="border-b border-slate-800/50"><td class="py-3 text-[9px] md:text-[10px] text-slate-400 uppercase">Broad (m)</td><td class="py-3 text-center text-club-yellow" id="pot-broad">--</td><td class="py-3 text-center" id="pot-broadd">--</td><td class="py-3 text-center" id="pot-broadi">--</td><td class="py-3 text-center whitespace-nowrap"><span id="pot-difb">--</span> (<span id="pot-asymb">--</span>)</td><td class="py-3 text-center text-slate-400" id="pot-eq-broad">--</td><td class="py-3 text-right text-emerald-500">2.50</td></tr>
                                        <tr><td class="py-3 text-[9px] md:text-[10px] text-slate-400 uppercase">ABK</td><td class="py-3 text-center text-club-yellow" id="pot-abk">--</td><td colspan="3" class="text-center text-slate-600 font-normal">N/A Unipodal</td><td class="py-3 text-center text-slate-400" id="pot-eq-abk">--</td><td class="py-3 text-right text-emerald-500">60.0</td></tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="relative min-h-[200px] md:min-h-[150px] flex items-center justify-center"><canvas id="chart-ind-power"></canvas></div>
                        </div>
                    </div>
                    <div class="glass-panel p-5 md:p-6 border-l-4 border-l-purple-500">
                        <h3 class="text-[10px] md:text-xs font-black uppercase mb-4 border-b border-slate-800 pb-2 text-purple-400">Evaluaci√≥n Kin√©sica y Correctivos</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                            <div class="space-y-2 md:space-y-3">
                                <div class="p-3 bg-slate-900 rounded-lg border border-slate-800"><div class="flex items-center gap-2 mb-1"><span class="text-base md:text-lg">ü¶∂</span> <span class="text-[9px] md:text-[10px] font-black uppercase text-slate-500">Tobillos</span></div><p class="text-[10px] md:text-xs font-bold text-slate-300 ml-6 md:ml-7 leading-tight" id="kin-tob">--</p></div>
                                <div class="p-3 bg-slate-900 rounded-lg border border-slate-800"><div class="flex items-center gap-2 mb-1"><span class="text-base md:text-lg">ü¶¥</span> <span class="text-[9px] md:text-[10px] font-black uppercase text-slate-500">Cadera (Jurdan)</span></div><p class="text-[10px] md:text-xs font-bold text-slate-300 ml-6 md:ml-7 leading-tight" id="kin-cad">--</p></div>
                                <div class="p-3 bg-slate-900 rounded-lg border border-slate-800"><div class="flex items-center gap-2 mb-1"><span class="text-base md:text-lg">‚öñÔ∏è</span> <span class="text-[9px] md:text-[10px] font-black uppercase text-slate-500">Unipodal</span></div><p class="text-[10px] md:text-xs font-bold text-slate-300 ml-6 md:ml-7 leading-tight" id="kin-uni">--</p></div>
                                <div class="p-3 bg-slate-900 rounded-lg border border-slate-800"><div class="flex items-center gap-2 mb-1"><span class="text-base md:text-lg">üèãÔ∏è</span> <span class="text-[9px] md:text-[10px] font-black uppercase text-slate-500">Sentadilla</span></div><p class="text-[10px] md:text-xs font-bold text-slate-300 ml-6 md:ml-7 leading-tight" id="kin-sen">--</p></div>
                            </div>
                            <div class="p-4 bg-slate-900/80 rounded-xl border border-slate-800">
                                <h4 class="text-[9px] md:text-[10px] font-black uppercase text-purple-400 mb-3">Prescripci√≥n de Ejercicios (Warm-Up)</h4>
                                <div class="space-y-2 overflow-y-auto max-h-[200px] custom-scrollbar pr-2" id="ind-exercises"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="view-nutri" class="hidden space-y-6 animate-in fade-in duration-300">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
                
                <div class="lg:col-span-3">
                    <div class="glass-panel p-5 md:p-6 sticky top-32 space-y-6">
                        <select id="nutri-player-select" onchange="renderNutri()" class="w-full bg-slate-900 border border-slate-700 rounded-xl p-3 text-sm font-black focus:ring-2 focus:ring-emerald-500 appearance-none cursor-pointer text-club-yellow"></select>
                        
                        <div class="space-y-3 border-t border-slate-800 pt-6">
                            <div class="flex justify-between items-center p-2.5 bg-slate-900/50 rounded-lg">
                                <span class="text-[9px] md:text-[10px] text-slate-500 font-bold uppercase">Edad</span>
                                <span class="text-xs font-black text-slate-200" id="nutri-age">--</span>
                            </div>
                            <div class="flex justify-between items-center p-2.5 bg-slate-900/50 rounded-lg">
                                <span class="text-[9px] md:text-[10px] text-slate-500 font-bold uppercase">Fecha Med.</span>
                                <span class="text-xs font-black text-slate-200" id="nutri-date">--</span>
                            </div>
                            <div class="flex justify-between items-center p-2.5 bg-slate-900/50 rounded-lg">
                                <span class="text-[9px] md:text-[10px] text-slate-500 font-bold uppercase">Peso Bruto</span>
                                <span class="text-xs font-black text-slate-200" id="nutri-weight">--</span>
                            </div>
                            <div class="flex justify-between items-center p-2.5 bg-slate-900/50 rounded-lg">
                                <span class="text-[9px] md:text-[10px] text-slate-500 font-bold uppercase">Talla Corporal</span>
                                <span class="text-xs font-black text-slate-200" id="nutri-height">--</span>
                            </div>
                        </div>

                        <div class="p-4 border border-emerald-500/30 rounded-xl bg-emerald-900/10 mt-6">
                            <h3 class="text-[9px] md:text-[10px] font-black uppercase text-emerald-500 mb-2">Plan Nutricional Activo</h3>
                            <p class="text-[8px] md:text-[9px] text-slate-400 mb-4">Prescripci√≥n dietaria individual base.</p>
                            <button onclick="openNutriModal()" class="w-full bg-slate-800 border border-slate-700 hover:bg-emerald-600 text-[9px] md:text-[10px] font-black uppercase py-2.5 rounded-lg transition-colors text-slate-300 hover:text-white cursor-pointer">Ver Plan Detallado</button>
                        </div>
                    </div>
                </div>

                <div class="lg:col-span-9 space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6">
                        <div class="glass-panel p-5 md:p-6 border-l-4 border-l-club-green flex flex-col justify-center">
                            <h4 class="text-[9px] md:text-[10px] font-black text-slate-400 uppercase">Œ£6 Pliegues</h4>
                            <div class="flex items-end gap-2 mt-2">
                                <span class="text-3xl md:text-4xl font-black" id="nutri-sum6">--</span>
                                <span class="text-[10px] md:text-xs font-bold text-slate-500 mb-1">mm</span>
                            </div>
                            <p class="text-[9px] md:text-[10px] font-black mt-2 text-slate-500">Vs Elite (50mm): <span id="nutri-sum6-dif">--</span></p>
                        </div>
                        <div class="glass-panel p-5 md:p-6 flex flex-col justify-center">
                            <h4 class="text-[9px] md:text-[10px] font-black text-slate-400 uppercase">√çndice Cintura-Cadera</h4>
                            <div class="flex items-end gap-2 mt-2">
                                <span class="text-2xl md:text-3xl font-black text-slate-200" id="nutri-icc">--</span>
                            </div>
                        </div>
                        <div class="glass-panel p-5 md:p-6 bg-slate-900/50 flex flex-col justify-center">
                            <h4 class="text-[9px] md:text-[10px] font-black text-slate-400 uppercase mb-3">M√©tricas Est√°ndar</h4>
                            <div class="space-y-2">
                                <div class="flex justify-between text-[10px] md:text-xs font-black"><span class="text-slate-500">M√∫sculo (Bio):</span> <span class="text-slate-300" id="nutri-musc-bio">--</span></div>
                                <div class="flex justify-between text-[10px] md:text-xs font-black"><span class="text-slate-500">Adiposidad (Bio):</span> <span class="text-slate-300" id="nutri-adip-bio">--</span></div>
                            </div>
                        </div>
                    </div>

                    <div class="glass-panel p-5 md:p-6">
                        <h3 class="text-[10px] md:text-xs font-black uppercase mb-6 border-b border-slate-800 pb-2 text-club-yellow">An√°lisis de Pliegues Cut√°neos (mm)</h3>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8 items-center">
                            <div class="relative min-h-[250px] md:min-h-[300px]"><canvas id="chart-nutri-pliegues"></canvas></div>
                            <div class="table-container">
                                <table class="w-full text-left text-xs">
                                    <thead>
                                        <tr class="text-[8px] md:text-[9px] uppercase text-slate-500 border-b border-slate-800">
                                            <th class="py-2">Pliegue</th>
                                            <th class="py-2 text-center text-club-yellow">Valor</th>
                                            <th class="py-2 text-center text-slate-400">Prom. Equipo</th>
                                            <th class="py-2 text-center text-emerald-500">Elite</th>
                                        </tr>
                                    </thead>
                                    <tbody class="font-black text-slate-200">
                                        <tr class="border-b border-slate-800/50"><td class="py-2 text-[9px] md:text-[10px] text-slate-400 uppercase">Tr√≠ceps</td><td class="py-2 text-center" id="pl-tri">--</td><td class="py-2 text-center text-slate-400" id="pl-eq-tri">--</td><td class="py-2 text-center text-emerald-500">6.0</td></tr>
                                        <tr class="border-b border-slate-800/50"><td class="py-2 text-[9px] md:text-[10px] text-slate-400 uppercase">Subescapular</td><td class="py-2 text-center" id="pl-sub">--</td><td class="py-2 text-center text-slate-400" id="pl-eq-sub">--</td><td class="py-2 text-center text-emerald-500">8.0</td></tr>
                                        <tr class="border-b border-slate-800/50"><td class="py-2 text-[9px] md:text-[10px] text-slate-400 uppercase">B√≠ceps</td><td class="py-2 text-center" id="pl-bic">--</td><td class="py-2 text-center text-slate-400" id="pl-eq-bic">--</td><td class="py-2 text-center text-emerald-500">4.0</td></tr>
                                        <tr class="border-b border-slate-800/50"><td class="py-2 text-[9px] md:text-[10px] text-slate-400 uppercase">Cresta Il√≠aca</td><td class="py-2 text-center" id="pl-cre">--</td><td class="py-2 text-center text-slate-400" id="pl-eq-cre">--</td><td class="py-2 text-center text-emerald-500">8.0</td></tr>
                                        <tr class="border-b border-slate-800/50"><td class="py-2 text-[9px] md:text-[10px] text-slate-400 uppercase">Supraespinal</td><td class="py-2 text-center" id="pl-sup">--</td><td class="py-2 text-center text-slate-400" id="pl-eq-sup">--</td><td class="py-2 text-center text-emerald-500">6.0</td></tr>
                                        <tr class="border-b border-slate-800/50"><td class="py-2 text-[9px] md:text-[10px] text-slate-400 uppercase">Abdominal</td><td class="py-2 text-center" id="pl-abd">--</td><td class="py-2 text-center text-slate-400" id="pl-eq-abd">--</td><td class="py-2 text-center text-emerald-500">10.0</td></tr>
                                        <tr class="border-b border-slate-800/50"><td class="py-2 text-[9px] md:text-[10px] text-slate-400 uppercase">Muslo Medial</td><td class="py-2 text-center" id="pl-mus">--</td><td class="py-2 text-center text-slate-400" id="pl-eq-mus">--</td><td class="py-2 text-center text-emerald-500">10.0</td></tr>
                                        <tr><td class="py-2 text-[9px] md:text-[10px] text-slate-400 uppercase">Pantorrilla M√°x</td><td class="py-2 text-center" id="pl-pan">--</td><td class="py-2 text-center text-slate-400" id="pl-eq-pan">--</td><td class="py-2 text-center text-emerald-500">6.0</td></tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="glass-panel p-5 md:p-6">
                            <h3 class="text-[9px] md:text-[10px] font-black uppercase mb-4 border-b border-slate-800 pb-2 text-slate-400">Per√≠metros (cm)</h3>
                            <div class="space-y-3 font-black text-[10px] md:text-xs">
                                <div class="flex justify-between border-b border-slate-800/50 pb-2"><span class="text-slate-500">Brazo Relajado</span> <span class="text-slate-200" id="per-bra-r">--</span></div>
                                <div class="flex justify-between border-b border-slate-800/50 pb-2"><span class="text-slate-500">Brazo Flex/Tensi√≥n</span> <span class="text-slate-200" id="per-bra-f">--</span></div>
                                <div class="flex justify-between border-b border-slate-800/50 pb-2"><span class="text-slate-500">Cintura (m√≠nima)</span> <span class="text-slate-200" id="per-cin">--</span></div>
                                <div class="flex justify-between border-b border-slate-800/50 pb-2"><span class="text-slate-500">Cadera (m√°xima)</span> <span class="text-slate-200" id="per-cad">--</span></div>
                                <div class="flex justify-between"><span class="text-slate-500">Pantorrilla (m√°xima)</span> <span class="text-slate-200" id="per-pan">--</span></div>
                            </div>
                        </div>
                        <div class="glass-panel p-5 md:p-6">
                            <h3 class="text-[9px] md:text-[10px] font-black uppercase mb-4 border-b border-slate-800 pb-2 text-slate-400">Di√°metros (cm)</h3>
                            <div class="space-y-3 font-black text-[10px] md:text-xs">
                                <div class="flex justify-between border-b border-slate-800/50 pb-2"><span class="text-slate-500">Humeral</span> <span class="text-slate-200" id="dia-hum">--</span></div>
                                <div class="flex justify-between"><span class="text-slate-500">Femoral</span> <span class="text-slate-200" id="dia-fem">--</span></div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <section id="view-general" class="hidden space-y-6 animate-in fade-in duration-300">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6">
                <div class="glass-panel p-4 md:p-6 border-l-4 border-l-emerald-500"><h4 class="text-[8px] md:text-[10px] font-black text-slate-400 uppercase leading-tight">Media Muscular</h4><div class="flex items-end gap-1 md:gap-2 mt-2"><span class="text-xl md:text-3xl font-black text-emerald-400" id="stat-musc">--</span><span class="text-[9px] md:text-xs font-bold text-slate-500 mb-0.5 md:mb-1">vs 48%</span></div></div>
                <div class="glass-panel p-4 md:p-6 border-l-4 border-l-amber-500"><h4 class="text-[8px] md:text-[10px] font-black text-slate-400 uppercase leading-tight">Media Adiposa</h4><div class="flex items-end gap-1 md:gap-2 mt-2"><span class="text-xl md:text-3xl font-black text-amber-400" id="stat-adip">--</span><span class="text-[9px] md:text-xs font-bold text-slate-500 mb-0.5 md:mb-1">vs 11%</span></div></div>
                <div class="glass-panel p-4 md:p-6 border-l-4 border-l-club-green"><h4 class="text-[8px] md:text-[10px] font-black text-slate-400 uppercase leading-tight">Media Yo-Yo 2026</h4><div class="flex items-end gap-1 md:gap-2 mt-2"><span class="text-xl md:text-3xl font-black text-club-green" id="stat-yoyo">--</span><span class="text-[9px] md:text-xs font-bold text-slate-500 mb-0.5 md:mb-1">vs 21.0</span></div></div>
                <div class="glass-panel p-4 md:p-6 border-l-4 border-l-red-500"><h4 class="text-[8px] md:text-[10px] font-black text-slate-400 uppercase leading-tight">Alertas Cr√≠ticos</h4><div class="flex items-end gap-1 md:gap-2 mt-2"><span class="text-xl md:text-3xl font-black text-red-500" id="stat-alerts">--</span><span class="text-[9px] md:text-xs font-bold text-slate-500 mb-0.5 md:mb-1">Asim/Adip</span></div></div>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="glass-panel p-5 md:p-6 space-y-6">
                    <div><h3 class="text-[9px] md:text-[10px] font-black uppercase text-club-yellow border-b border-slate-800 pb-2 mb-3">Top 3 Potencia (CMJ)</h3><div id="top-cmj" class="flex flex-col gap-2"></div></div>
                    <div><h3 class="text-[9px] md:text-[10px] font-black uppercase text-club-green border-b border-slate-800 pb-2 mb-3">Top 3 Resistencia (Yo-Yo)</h3><div id="top-yoyo" class="flex flex-col gap-2"></div></div>
                    <div><h3 class="text-[9px] md:text-[10px] font-black uppercase text-emerald-500 border-b border-slate-800 pb-2 mb-3">Top 3 Nutrici√≥n (Œ£6 M√≠nimo)</h3><div id="top-nutri" class="flex flex-col gap-2"></div></div>
                </div>
                <div class="lg:col-span-2 space-y-6">
                    <div class="glass-panel p-5 md:p-6 border border-red-900/30"><h3 class="text-[10px] md:text-xs font-black uppercase text-red-500 mb-4">Atenci√≥n Cr√≠tica (Asim > 15%, Adip > 18% o Œ£6 > 60mm)</h3><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3" id="critical-list"></div></div>
                    <div class="glass-panel p-5 md:p-6"><h3 class="text-[10px] md:text-xs font-black uppercase mb-4 text-slate-300">Rendimiento por Posici√≥n vs. Ideal Elite</h3><div class="min-h-[250px] relative"><canvas id="chart-team-pos"></canvas></div></div>
                </div>
            </div>
        </section>

        <section id="view-compare" class="hidden space-y-6 animate-in fade-in duration-300">
            <div class="glass-panel p-4 md:p-6">
                <h2 class="text-lg md:text-xl font-black uppercase italic tracking-tighter mb-4 md:mb-6 text-club-green">Comparativa Multijugador (Staff)</h2>
                <div class="grid grid-cols-2 lg:grid-cols-4 gap-2 md:gap-4 mb-6 md:mb-8">
                    <div class="p-1.5 md:p-2 rounded-xl border-t-4 border-t-[#10b981] bg-slate-900"><select id="comp-1" onchange="renderCompare()" class="w-full bg-transparent text-[10px] md:text-xs font-black uppercase focus:outline-none"></select></div>
                    <div class="p-1.5 md:p-2 rounded-xl border-t-4 border-t-[#f59e0b] bg-slate-900"><select id="comp-2" onchange="renderCompare()" class="w-full bg-transparent text-[10px] md:text-xs font-black uppercase focus:outline-none"></select></div>
                    <div class="p-1.5 md:p-2 rounded-xl border-t-4 border-t-[#3b82f6] bg-slate-900"><select id="comp-3" onchange="renderCompare()" class="w-full bg-transparent text-[10px] md:text-xs font-black uppercase focus:outline-none"></select></div>
                    <div class="p-1.5 md:p-2 rounded-xl border-t-4 border-t-[#8b5cf6] bg-slate-900"><select id="comp-4" onchange="renderCompare()" class="w-full bg-transparent text-[10px] md:text-xs font-black uppercase focus:outline-none"></select></div>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8">
                    <div class="bg-slate-900/50 rounded-2xl p-4 md:p-6 border border-slate-800"><h3 class="text-[9px] md:text-[10px] font-black uppercase text-slate-400 mb-4">Potencia (CMJ & Broad)</h3><div class="min-h-[250px] relative"><canvas id="chart-comp-power"></canvas></div></div>
                    <div class="bg-slate-900/50 rounded-2xl p-4 md:p-6 border border-slate-800"><h3 class="text-[9px] md:text-[10px] font-black uppercase text-slate-400 mb-4">Composici√≥n (%Musc & Œ£6 Pliegues)</h3><div class="min-h-[250px] relative"><canvas id="chart-comp-comp"></canvas></div></div>
                    <div class="bg-slate-900/50 rounded-2xl p-4 md:p-6 border border-slate-800 lg:col-span-2"><h3 class="text-[9px] md:text-[10px] font-black uppercase text-slate-400 mb-4">Resistencia (Yo-Yo Test)</h3><div class="min-h-[200px] md:min-h-[250px] relative"><canvas id="chart-comp-yoyo"></canvas></div></div>
                </div>
            </div>
        </section>

    </main>

    <script>
        let playersData = [
            { id: 1, name: "Alberto, Joaquin", pos: "Cierre", leg: "Derecho", date: "2026-02-07", weight: 68.3, height: 1.77, musc: 45.2, adip: 11.8, visc: 4, imc: 21.8, ed_met: 21, y25: 20.0, y26: 20.8, cmj: 44.1, abk: 59.3, cmj_de: 25.5, cmj_iz: 24.6, asym_cmj: -3.52, broad: 2.58, broad_de: 2.13, broad_iz: 2.2, asym_br: 3.28, kin: { t: "Movilidad optima", c: "reducir tension isquiosural", u: "poca estabilidad", s: "Buena profundidad y movilidad" } },
            { id: 2, name: "Arzani, Ramiro", pos: "Arquero", leg: "Izquierda", date: "2026-02-07", weight: 75.8, height: 1.77, musc: 41.8, adip: 17.3, visc: 6, imc: 24.5, ed_met: 34, y25: 18.0, y26: 18.1, cmj: 45.3, abk: 52.8, cmj_de: 28.2, cmj_iz: 24.6, asym_cmj: -12.77, broad: 2.46, broad_de: 2.35, broad_iz: 2.1, asym_br: -10.64, kin: { t: "mejorar movilidad", c: "reducir tension isquiosural", u: "buena movilidad y estabilidad", s: "mejorar movilidad tobillo" } },
            { id: 3, name: "Benitez, Marcos", pos: "Ala", leg: "Derecho", date: "2026-02-07", weight: 60.8, height: 1.6, musc: 41.5, adip: 19.7, visc: 7, imc: 23.8, ed_met: 19, y25: 18.4, y26: 21.3, cmj: 44.1, abk: 46.5, cmj_de: 22, cmj_iz: 23.8, asym_cmj: 8.18, broad: 2.25, broad_de: 2.04, broad_iz: 2.1, asym_br: 2.94, kin: { t: "mejorar movilidad", c: "Rom optimo +90", u: "trabajar estabilidad pelvica/cadera", s: "" } },
            { id: 4, name: "Cabrera, Agust√≠n", pos: "Arquero", leg: "Derecho", date: "2026-02-07", weight: 72.4, height: 1.74, musc: 43.8, adip: 14.8, visc: 5, imc: 23.9, ed_met: 26, y25: 18.0, y26: 18.0, cmj: 36.3, abk: 42.9, cmj_de: 19.6, cmj_iz: 22.9, asym_cmj: 16.84, broad: 2.34, broad_de: 2.03, broad_iz: 2.01, asym_br: -0.98, kin: { t: "Movilidad optima", c: "reducir tension isquiosural", u: "buena movilidad y estabilidad", s: "Buena profundidad y movilidad" } },
            { id: 5, name: "Del Palacio, Maximiliano", pos: "Ala", leg: "Derecho", date: "2026-02-07", weight: 80.4, height: 1.72, musc: 34.3, adip: 29.1, visc: 10, imc: 27.2, ed_met: 46, y25: 18.5, y26: 18.5, cmj: 32, abk: null, cmj_de: 15, cmj_iz: 16, asym_cmj: 6.5, broad: 2.1, broad_de: 1.1, broad_iz: 1.0, asym_br: 10, kin: { t: "", c: "", u: "", s: "" } },
            { id: 6, name: "Figueroa, Frank", pos: "Arquero", leg: "Derecho", date: "2026-02-07", weight: 87.3, height: 1.7, musc: 34.3, adip: 31.0, visc: 11, imc: 30.2, ed_met: 48, y25: 18.1, y26: 16.2, cmj: 36.3, abk: 44.1, cmj_de: 20.4, cmj_iz: 18.8, asym_cmj: -7.84, broad: 2.1, broad_de: 1.95, broad_iz: 1.87, asym_br: -4.1, kin: { t: "mejorar movilidad", c: "Rom optimo +90", u: "trabajar estabilidad pelvica/cadera", s: "tobillo/cadera/pelvis" } },
            { id: 7, name: "Fiocchi, Walter", pos: "Ala", leg: "Izquierda", date: "2026-02-07", weight: 89.3, height: 1.74, musc: 37.3, adip: 24.7, visc: 10, imc: 29.2, ed_met: 51, y25: 18.4, y26: 18.4, cmj: 37.4, abk: 42.9, cmj_de: 18.8, cmj_iz: 18.8, asym_cmj: 0, broad: 2.25, broad_de: 1.85, broad_iz: 2.1, asym_br: 13.5, kin: { t: "mejorar movilidad", c: "Rom optimo +90", u: "trabajar estabilidad pelvica/cadera", s: "tobillo/cadera/pelvis" } },
            { id: 8, name: "Gardiol, Agust√≠n", pos: "Ala", leg: "Derecho", date: "2026-02-07", weight: 68.5, height: 1.75, musc: 40.9, adip: 17.9, visc: 5, imc: 22.4, ed_met: 27, y25: 20.3, y26: 20.3, cmj: 34.2, abk: 38.5, cmj_de: 22, cmj_iz: 18, asym_cmj: -18.18, broad: 2.5, broad_de: 2, broad_iz: 1.97, asym_br: -1.5, kin: { t: "Movilidad optima", c: "reducir tension isquiosural", u: "trabajar estabilidad pelvica/cadera", s: "mejorar movilidad escapular" } },
            { id: 9, name: "Gonzi, Nicol√°s", pos: "Cierre", leg: "Derecho", date: "2026-02-07", weight: 71.5, height: 1.74, musc: 41.4, adip: 17.6, visc: 6, imc: 23.6, ed_met: 30, y25: 19.1, y26: 19.1, cmj: 39.6, abk: 45.3, cmj_de: 23.8, cmj_iz: 24.6, asym_cmj: 3.36, broad: 2.34, broad_de: 2.1, broad_iz: 2, asym_br: -4.76, kin: { t: "mejorar movilidad", c: "reducir tension + movilidad cadera", u: "trabajar estabilidad pelvica/cadera", s: "movilidad cadera/pelvis" } },
            { id: 10, name: "Gregorio, Lautaro", pos: "Pivot", leg: "Izquierda", date: "2026-02-07", weight: 78.1, height: 1.84, musc: 43.0, adip: 13.4, visc: 4, imc: 22.8, ed_met: 35, y25: 18.0, y26: 18.5, cmj: 41.8, abk: 50.2, cmj_de: 22, cmj_iz: 20.4, asym_cmj: -7.27, broad: 2.2, broad_de: 1.9, broad_iz: 1.91, asym_br: 0.52, kin: { t: "Movilidad optima", c: "reducir tension + movilidad cadera", u: "buena movilidad y estabilidad", s: "tobillo/escapular" } },
            { id: 11, name: "Guti√©rrez, Yonathan", pos: "Ala", leg: "Derecho", date: "2026-02-07", weight: 75.4, height: 1.79, musc: 38.4, adip: 21.8, visc: 6, imc: 23.5, ed_met: 27, y25: 18.1, y26: 18.1, cmj: 52.8, abk: 58, cmj_de: 30.1, cmj_iz: 36.3, asym_cmj: 20.6, broad: 2.51, broad_de: 2.42, broad_iz: 2.46, asym_br: 1.65, kin: { t: "mejorar movilidad", c: "reducir tension isquiosural", u: "trabajar estabilidad pelvica/cadera", s: "mejorar movilidad escapular" } },
            { id: 12, name: "Ledesma, Facundo", pos: "Ala", leg: "Izquierda", date: "2026-02-07", weight: 70.7, height: 1.74, musc: 38.9, adip: 22.3, visc: 6, imc: 23.4, ed_met: 29, y25: 20.0, y26: 19.5, cmj: 34.2, abk: 40.8, cmj_de: 19.6, cmj_iz: 16.6, asym_cmj: -15.31, broad: 2.1, broad_de: 1.82, broad_iz: 1.92, asym_br: 5.49, kin: { t: "mejorar movilidad", c: "Rom optimo +90", u: "trabajar estabilidad pelvica/cadera", s: "movilidad cadera/pelvis" } },
            { id: 13, name: "Migliorisi, Diego", pos: "Ala", leg: "Izquierda", date: "2026-02-07", weight: 72.1, height: 1.76, musc: 41.0, adip: 15.2, visc: 4, imc: 23.3, ed_met: null, y25: 17.4, y26: 17.0, cmj: 30.1, abk: 34.2, cmj_de: 15.9, cmj_iz: 16.7, asym_cmj: 5.03, broad: 1.93, broad_de: 1.95, broad_iz: 1.92, asym_br: -1.53, kin: { t: "mejorar movilidad", c: "reducir tension isquiosural", u: "trabajar estabilidad pelvica/cadera", s: "tobillo/escapular/cadera" } },
            { id: 14, name: "Quiroga, Gonzalo", pos: "Cierre", leg: "Derecho", date: "2026-02-07", weight: 75, height: 1.78, musc: 42, adip: 18, visc: 5, imc: 24, ed_met: null, y25: 18.5, y26: 18.5, cmj: 38, abk: null, cmj_de: 18, cmj_iz: 19, asym_cmj: 5, broad: 2.3, broad_de: 2.1, broad_iz: 2.1, asym_br: 0, kin: { t: "mejorar movilidad", c: "reducir tension + movilidad cadera", u: "trabajar estabilidad pelvica/cadera", s: "tobillo/escapular/cadera" } },
            { id: 15, name: "Reche, Agust√≠n", pos: "Ala", leg: "Izquierda", date: "2026-02-07", weight: 71.2, height: 1.71, musc: 40.5, adip: 19.6, visc: 7, imc: 24.3, ed_met: 31, y25: 19.6, y26: 19.6, cmj: 35, abk: null, cmj_de: 17, cmj_iz: 18, asym_cmj: 5, broad: 2.2, broad_de: 1.0, broad_iz: 1.1, asym_br: 10, kin: { t: "Movilidad optima", c: "Rom optimo +90", u: "trabajar estabilidad pelvica/cadera", s: "movilidad cadera/pelvis" } },
            { id: 16, name: "Rumak, Brian", pos: "Cierre", leg: "Derecho", date: "2026-02-07", weight: 78.9, height: 1.8, musc: 40.3, adip: 18.6, visc: 6, imc: 24.6, ed_met: 40, y25: 20.0, y26: 20.0, cmj: 39.6, abk: 44.1, cmj_de: 18, cmj_iz: 15.9, asym_cmj: -11.66, broad: 2.3, broad_de: 2, broad_iz: 2, asym_br: 0, kin: { t: "Movilidad optima", c: "reducir tension isquiosural", u: "trabajar estabilidad pelvica/cadera", s: "movilidad cadera/pelvis" } },
            { id: 17, name: "Silva, Thiago", pos: "Cierre", leg: "Derecho", date: "2026-02-07", weight: 85.7, height: 1.78, musc: 36.4, adip: 26.9, visc: 8, imc: 27.9, ed_met: 46, y25: 18.2, y26: 18.8, cmj: 32.1, abk: 39.6, cmj_de: 17.3, cmj_iz: 13.2, asym_cmj: -23.70, broad: 2.13, broad_de: 1.96, broad_iz: 1.98, asym_br: 1.02, kin: { t: "mejorar movilidad", c: "reducir tension isquiosural", u: "trabajar estabilidad pelvica/cadera", s: "movilidad cadera/pelvis" } },
            { id: 18, name: "Smokvina, Ignacio", pos: "Ala", leg: "Izquierda", date: "2026-02-07", weight: 69.8, height: 1.73, musc: 41.1, adip: 19.4, visc: 5, imc: 23.3, ed_met: 26, y25: 19.4, y26: 19.4, cmj: 34.2, abk: 40.8, cmj_de: 18.8, cmj_iz: 15.9, asym_cmj: -15.42, broad: 2.09, broad_de: 1.88, broad_iz: 1.94, asym_br: 3.19, kin: { t: "Movilidad optima", c: "reducir tension isquiosural", u: "buena movilidad y estabilidad", s: "tobillo/escapular/cadera" } },
            { id: 21, name: "Benquet, Jonathan", pos: "Pivot", leg: "Derecho", date: "2026-02-07", weight: 74.1, height: 1.73, musc: 40.3, adip: 18.7, visc: 7, imc: 24.8, ed_met: 36, y25: 19.8, y26: 19.8, cmj: 37.4, abk: 40.7, cmj_de: 20.4, cmj_iz: 15.9, asym_cmj: -22.05, broad: 2.15, broad_de: 1.9, broad_iz: 1.89, asym_br: -0.52, kin: { t: "mejorar movilidad", c: "reducir tension isquiosural", u: "trabajar estabilidad pelvica/cadera", s: "movilidad cadera/pelvis" } },
            { id: 22, name: "Almir√≥n, Agust√≠n", pos: "Cierre", leg: "Derecho", date: "2026-02-07", weight: 71.4, height: 1.77, musc: 45.0, adip: 12.9, visc: 4, imc: 22.8, ed_met: 24, y25: 17.8, y26: 18.7, cmj: 45.3, abk: 47.7, cmj_de: 21.2, cmj_iz: 22.9, asym_cmj: 8.01, broad: 2.4, broad_de: 2.02, broad_iz: 2.22, asym_br: 9.9, kin: { t: "mejorar movilidad", c: "Rom optimo +90", u: "trabajar estabilidad pelvica/cadera", s: "movilidad cadera/pelvis" } },
            { id: 23, name: "Perviu, Thiago", pos: "Ala", leg: "Derecho", date: "2026-02-07", weight: 63.5, height: 1.74, musc: 47.4, adip: 9.3, visc: 3, imc: 21.0, ed_met: 18, y25: 17.2, y26: 17.3, cmj: 42.9, abk: 50.2, cmj_de: 25.5, cmj_iz: 23.8, asym_cmj: -6.66, broad: 2.36, broad_de: 2.24, broad_iz: 2.1, asym_br: -6.25, kin: { t: "Movilidad optima", c: "Rom optimo +90", u: "trabajar estabilidad pelvica/cadera", s: "movilidad cadera/pelvis" } },
            { id: 24, name: "Stanizzi, Bautista", pos: "Ala", leg: "Izquierda", date: "2026-02-07", weight: 65.1, height: 1.7, musc: 42.5, adip: 17.8, visc: 5, imc: 22.5, ed_met: 18, y25: 20.0, y26: 20.0, cmj: 34.2, abk: 37.4, cmj_de: 20.4, cmj_iz: 18.8, asym_cmj: -7.84, broad: 2.1, broad_de: 2.03, broad_iz: 1.96, asym_br: -3.44, kin: { t: "mejorar movilidad", c: "Rom optimo +90", u: "trabajar estabilidad pelvica/cadera", s: "movilidad cadera/pelvis" } },
            { id: 25, name: "Mack, Ramiro", pos: "Pivot", leg: "Izquierda", date: "2026-02-07", weight: 92.2, height: 1.85, musc: 39.6, adip: 20.7, visc: 7, imc: 26.9, ed_met: 50, y25: 18.1, y26: 18.1, cmj: 33.2, abk: 37.4, cmj_de: 16.7, cmj_iz: 11.9, asym_cmj: -28.74, broad: 2.33, broad_de: 2, broad_iz: 1.86, asym_br: -7, kin: { t: "mejorar movilidad", c: "Rom optimo +90", u: "trabajar estabilidad pelvica/cadera", s: "tobillo/escapular" } }
        ];

        const rawNutriCSV = `Alberto, Joaquin;21,6;2/6/2026;1;68,700;167,000;;;30,600;34,500;;;35,200;7,000;7,000;;7,000;6,000;7,000;10,000;5,000;42,000;sin datos;50;-8,000
Almiron, Agustin;18,2;2/13/2026;1;64,900;177,000;;;29,100;31,600;;;37,400;6,000;7,000;;7,000;6,000;6,000;9,000;8,000;42,000;sin datos;50;-8,000
Arzani, Ramiro;24,8;2/6/2026;1;75,200;176,000;;;30,200;34,300;;;39,000;7,000;12,000;;13,000;12,000;15,000;7,000;5,000;58,000;sin datos;50;8,000
Benitez, Marcos;126,2;2/13/2026;1;59,600;160,000;;;29,600;32,500;;;32,200;4,000;7,000;;10,000;10,000;11,000;6,000;5,000;43,000;sin datos;50;-7,000
Benquet, Jonathan;32,1;2/13/2026;1;74,400;174,000;;;30,000;32,000;;;38,900;5,000;7,000;;9,000;9,000;10,000;10,000;7,000;48,000;sin datos;50;-2,000
Cabrera, Agustin;21,4;2/13/2026;1;71,300;175,000;;;30,000;33,000;;;35,900;6,000;10,000;;14,000;11,000;13,000;12,000;7,000;59,000;sin datos;50;9,000
Del Palacio, Maximiliano;30,7;2/13/2026;1;80,000;172,000;;;30,600;33,600;;;34,500;7,000;10,000;;27,000;19,000;23,000;13,000;7,000;79,000;sin datos;50;29,000
Figueroa, Frank;18,4;2/13/2026;1;86,600;170,000;;;31,200;34,700;;;38,100;11,000;14,000;;34,000;26,000;27,000;10,000;10,000;98,000;sin datos;50;48,000
Fiocchi, Walter;24,9;2/6/2026;1;89,100;176,000;;;32,700;35,400;;;39,300;6,000;11,000;;22,000;19,000;19,000;11,000;5,000;71,000;sin datos;50;21,000
Gardiol, Agustin;27,3;2/6/2026;1;68,300;175,000;;;28,000;30,500;;;35,900;4,000;11,000;;15,000;15,000;16,000;5,000;4,000;55,000;sin datos;50;5,000
Gonzi, Nicolas;27,3;2/6/2026;1;71,500;174,000;;;28,000;30,600;;;37,000;5,000;7,000;;15,000;10,000;11,000;9,000;5,000;47,000;sin datos;50;-3,000
Gregorio, Lautaro;26,0;2/6/2026;1;77,200;183,000;;;29,500;34,200;;;40,200;5,000;6,000;;10,000;7,000;10,000;9,500;6,500;44,000;sin datos;50;-6,000
Gutierrez, Yonathan;27,0;2/6/2026;1;76,000;180,000;;;28,000;31,500;;;36,900;13,000;9,000;;27,000;22,000;24,000;22,000;8,000;98,000;sin datos;50;48,000
Mack, Ramiro;126,2;2/6/2026;1;91,900;185,000;;;32,800;35,800;;;39,050;8,000;12,000;;26,000;19,000;18,000;5,000;6,000;68,000;sin datos;50;18,000
Perviu, Thiago;126,2;2/13/2026;1;62,500;174,000;;;26,000;29,000;;;37,400;3,000;6,000;;6,000;6,000;6,000;6,000;5,000;32,000;sin datos;50;-18,000
Quiroga, Gonzalo;27,5;2/13/2026;1;72,300;185,000;;;28,300;31,400;;;35,400;3,000;6,000;;4,000;4,000;5,000;4,000;2,000;24,000;sin datos;50;-26,000
Reche, Agustin;27,9;2/6/2026;1;70,400;171,000;;;27,500;32,300;;;35,000;6,000;9,000;;16,000;13,000;15,000;14,000;7,000;64,000;sin datos;50;14,000
Rumak, Brian;28,2;2/6/2026;1;78,800;179,000;;;31,500;34,600;;;38,300;6,000;8,000;;14,000;13,000;13,000;8,000;5,000;53,000;sin datos;50;3,000
Silva, Thiago;20,5;2/6/2026;1;84,700;180,000;;;30,000;34,200;;;39,200;7,000;12,000;;23,000;26,000;24,000;14,000;6,000;89,000;sin datos;50;39,000
Smokvina, Ignacio;20,9;06/02/26;1;69,800;173,000;;;28,500;33,400;;;36,000;9,000;10,000;;10,000;12,000;13,000;9,500;6,000;59,500;sin datos;50;9,500
Stanizzi, Bautista;126,2;2/13/2026;1;64,900;171,000;;;26,100;28,500;;;36,200;6,000;7,000;;12,000;7,000;8,000;9,500;6,000;43,500;sin datos;50;-6,500`;

        const PLANES_NUTRICIONALES = {
            1: `
                <div class="space-y-6">
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-yellow font-black uppercase mb-3 border-b border-slate-800 pb-2">Desayunos y Meriendas (100g HC)</h3>
                        <ul class="list-disc pl-5 space-y-2 text-slate-300">
                            <li>200ml leche + 60g vainillas (3) + 10g az√∫car + 200g fruta</li>
                            <li>Licuado (200cc leche + 200g fruta + 10g az√∫car) + 60g vainillas (3)</li>
                            <li>200ml leche + 10g az√∫car (o 200g yogur) + 3 rodajas pan integral + 30g queso + 30g mermelada + 300g fruta</li>
                            <li>200cc yogur + 3 pu√±ados granola + 1 pu√±ado frutos secos + 1 fruta grande</li>
                            <li>Caf√© con leche (200cc) + 10g az√∫car + s√°ndwich (60g queso fresco + 60g dulce membrillo/batata) + 1 fruta mediana</li>
                            <li>Caf√© con leche (200cc) + 10g az√∫car + 3 rodajas pan integral con 1 huevo y claras revueltas + 1 fruta grande</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Almuerzos y Cenas (150g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded">200g carnes + 1 huevo + 250g vegetales C / fideos / pastas (1 plato playo) + 150g vegetal A + 250g vegetal B + 150g fruta + 10cc Aceite.</p>
                        <p class="text-xs text-slate-400 italic">Ejemplo: Milanesa al horno + ensalada de papa, tomate y huevo.</p>
                    </div>
                </div>
            `,
            2: `
                <div class="space-y-6">
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-yellow font-black uppercase mb-3 border-b border-slate-800 pb-2">Desayunos y Meriendas (100g HC)</h3>
                        <ul class="list-disc pl-5 space-y-2 text-slate-300 text-xs">
                            <li>200ml leche + 60g vainillas (3) + 10g az√∫car + 200g fruta</li>
                            <li>Licuado (200cc leche + 200g fruta + 10g az√∫car) + 60g vainillas (3)</li>
                            <li>200ml leche + 10g az√∫car (o 200g yogur) + 3 rodajas pan integral + 30g queso + 30g mermelada + 300g fruta</li>
                            <li>200cc yogur + 3 pu√±ados granola + 1 pu√±ado frutos secos + 1 fruta grande</li>
                            <li>Caf√© con leche (200cc) + 10g az√∫car + s√°ndwich (60g queso fresco + 60g dulce membrillo/batata) + 1 fruta mediana</li>
                            <li>Caf√© con leche (200cc) + 10g az√∫car + 3 rodajas pan integral con 1 huevo y claras revueltas + 1 fruta grande</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Almuerzos y Cenas (100g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">150g carnes (mediana) + 1 huevo + 250g vegetales C / fideos / pastas + 150g vegetal A (1 mediano o 2 chicos) + 250g vegetal B (1 grande o 2 medianos) + 200g fruta + 15cc Aceite.</p>
                    </div>
                </div>
            `,
            3: `
                <div class="space-y-6">
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-yellow font-black uppercase mb-3 border-b border-slate-800 pb-2">Desayunos y Meriendas (50g HC)</h3>
                        <ul class="list-disc pl-5 space-y-2 text-slate-300 text-xs">
                            <li>1 taza de caf√© con 200cc de leche descremada + 2 rodajas (50g) de pan integral + 30g de queso untable descremado + 30g de mermelada light</li>
                            <li>200cc de yogur descremado + 1 tostado de queso (2 rodajas pan integral + 60g queso fresco tipo port salud light)</li>
                            <li>200cc de yogur descremado + 60g de granola + 100g fruta</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Almuerzos (100g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">200g de carnes + 1 huevo + 300g de veg C/fideos/pastas + 100g veg A + 200g veg B + 150g fruta + Aceite 15cc</p>
                        <p class="text-xs text-slate-400 italic">Ejemplo: Milanesa + ensalada de papa y huevo + ensalada de zanahoria y tomate. Fruta.</p>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Cenas (75g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">200g pollo + 200g veg C + 200g veg A + 100g veg B + 200g fruta + Aceite 15cc</p>
                    </div>
                </div>
            `,
            4: `
                <div class="space-y-6">
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-yellow font-black uppercase mb-3 border-b border-slate-800 pb-2">Desayunos y Meriendas (50g HC)</h3>
                        <ul class="list-disc pl-5 space-y-2 text-slate-300 text-xs">
                            <li>1 taza de caf√© con 150cc de leche descremada + 2 rodajas (50g) pan integral + 30g queso untable desc + 30g mermelada light</li>
                            <li>150cc de yogur descremado + 1 tostado de queso (2 rodajas pan integral + 30g queso fresco light)</li>
                            <li>150cc de yogur descremado + 60g granola + 100g fruta (chica)</li>
                            <li>Caf√© con 150cc leche desc + 2 rodajas pan integral + 1 huevo y claras revueltas + 150g fruta (mediana)</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Almuerzos y Cenas (100g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">200g carnes (mediano) + 1 huevo (solo en 1 comida o 2) + 250g veg C/fideos (1 plato playo) + 100g veg A (chico) + 250g veg B (mediano) + 150g fruta (si no se consume en des/mer) + Aceite 10cc</p>
                    </div>
                </div>
            `,
            5: `
                <div class="space-y-6">
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-yellow font-black uppercase mb-3 border-b border-slate-800 pb-2">Desayunos y Meriendas (70g HC)</h3>
                        <ul class="list-disc pl-5 space-y-2 text-slate-300 text-xs">
                            <li>1 taza de caf√© con 200cc de leche descremada + 2 rodajas (50g) pan integral + 30g queso untable + 30g mermelada light</li>
                            <li>200cc de yogur descremado + 1 tostado de queso (2 rodajas pan integral + 30g queso fresco light)</li>
                            <li>200cc de yogur descremado + 60g granola + 100g fruta</li>
                            <li>1 taza de caf√© con 200cc leche desc + 2 rodajas pan integral + 1 huevo y 2 claras revueltas + 1 fruta grande</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Almuerzos y Cenas (100g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">150g carnes (mediano) + 250g veg C/fideos/pastas (1 plato playo) + 150g veg A (1 mediano o 2 chicos) + 250g veg B (1 grande o 2 medianos) + 150g fruta + Aceite 10cc</p>
                    </div>
                </div>
            `,
            6: `
                <div class="space-y-6">
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-yellow font-black uppercase mb-3 border-b border-slate-800 pb-2">Desayunos y Meriendas (50g HC)</h3>
                        <ul class="list-disc pl-5 space-y-2 text-slate-300 text-xs">
                            <li>1 taza de caf√© con 200cc de leche descremada + 2 rodajas (50g) pan integral + 30g queso untable + 30g mermelada light</li>
                            <li>200cc de yogur descremado + 1 tostado de queso (2 rodajas pan integral + 30g queso fresco light)</li>
                            <li>200cc de yogur descremado + 60g granola + 100g fruta (chica)</li>
                            <li>Taza caf√© con 200cc leche desc + 2 rodajas pan integral + 1 huevo y claras revueltas + 150g fruta (mediana)</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Almuerzos y Cenas (100g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">100g carnes (chico-mediano) + 1 huevo (solo en 1 o en 2 comidas, total 2 por d√≠a + libres) + 250g veg C/fideos (1 plato playo) + 150g veg A (chico) + 250g veg B (mediano) + 150g fruta + Aceite 10cc</p>
                    </div>
                </div>
            `,
            7: `
                <div class="space-y-6">
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-yellow font-black uppercase mb-3 border-b border-slate-800 pb-2">Desayunos y Meriendas (70g HC)</h3>
                        <ul class="list-disc pl-5 space-y-2 text-slate-300 text-xs">
                            <li>1 taza de caf√© con 200cc de leche descremada + 2 rodajas (50g) pan integral + 30g queso untable descremado + 30g mermelada light</li>
                            <li>200cc yogur descremado + 1 tostado de queso (2 rodajas pan integral + 60g queso fresco light)</li>
                            <li>200cc yogur descremado + 60g granola + 100g fruta</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Almuerzos (100g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">200g carnes + 1 huevo + 300g veg C/fideos/pastas + 100g veg A + 200g veg B + 150g fruta + Aceite 15cc</p>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Cenas (75g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">200g pollo + 200g veg C + 200g veg A + 100g veg B + 200g fruta + Aceite 15cc</p>
                    </div>
                </div>
            `,
            8: `
                <div class="space-y-6">
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-yellow font-black uppercase mb-3 border-b border-slate-800 pb-2">Desayunos y Meriendas (50g HC)</h3>
                        <ul class="list-disc pl-5 space-y-2 text-slate-300 text-xs">
                            <li>1 taza de caf√© con 200cc de leche descremada + 3 rodajas (50g) pan integral + 30g queso untable descremado + 30g mermelada light</li>
                            <li>200cc yogur descremado + 60g granola + 1 tostado de queso (2 rodajas pan integral + 60g queso fresco light)</li>
                            <li>200cc yogur descremado + 80g granola + 150g fruta</li>
                            <li>200cc yogur descremado + 80g granola + 1 rodaja de pan integral + 1 huevo revuelto (+ claras)</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Almuerzos y Cenas (150g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">200g carnes + 1 huevo + 300g veg C/fideos/pastas + 150g veg A + 250g veg B + 150g fruta + Aceite 15cc</p>
                    </div>
                </div>
            `,
            9: `
                <div class="space-y-6">
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-yellow font-black uppercase mb-3 border-b border-slate-800 pb-2">Desayunos y Meriendas (70g HC)</h3>
                        <ul class="list-disc pl-5 space-y-2 text-slate-300 text-xs">
                            <li>1 taza de caf√© con 200cc leche descremada + 10g az√∫car + 2 rodajas (50g) pan integral + 30g queso untable + 30g mermelada light</li>
                            <li>200cc yogur descremado + 1 tostado de queso (2 pan integral + 60g queso fresco light)</li>
                            <li>200cc yogur descremado + 60g granola + 100g fruta</li>
                            <li>200cc yogur + 2 o 3 vainillas + 1 fruta mediana</li>
                            <li>1 taza caf√© con 200cc leche descremada + 10g az√∫car + 2 rodajas pan integral + 1 huevo revuelto + 2/3 claras + 1 fruta mediana</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Almuerzos y Cenas (150g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">200g carnes + 1 huevo + 250g veg C/fideos/pastas (1 plato playo) + 150g veg A (mediana) + 250g veg B (grande) + 200g fruta (med/gde) + Aceite 10cc</p>
                    </div>
                </div>
            `,
            10: `
                <div class="space-y-6">
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-yellow font-black uppercase mb-3 border-b border-slate-800 pb-2">Desayunos y Meriendas (100g HC)</h3>
                        <ul class="list-disc pl-5 space-y-2 text-slate-300 text-xs">
                            <li>200ml leche + 60g vainillas (3) + 10g az√∫car + 200g fruta</li>
                            <li>Licuado (200 leche + 200 fruta + 10 az√∫car) + 60g vainillas (3)</li>
                            <li>200ml leche + 10g az√∫car (o 200 yogur) + 3 rodajas pan integral + 30g queso + 30g mermelada + 300g fruta</li>
                            <li>200cc yogur + 3 pu√±ados granola + 1 pu√±ado frutos secos + 1 fruta grande</li>
                            <li>Caf√© con leche (200cc) + 10g az√∫car + s√°ndwich (60g queso + 60g dulce membrillo/batata) + 1 fruta mediana</li>
                            <li>Caf√© con leche (200cc) + 10g az√∫car + 3 rodajas pan integral con 1 huevo y claras revueltas + 1 fruta grande</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Almuerzos y Cenas (150g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">200g carnes + 1 huevo + 300g veg C/fideos/pastas (1 plato hondo) + 150g veg A (mediana) + 250g veg B (grande) + 200g fruta (med/gde) + Aceite 10cc</p>
                    </div>
                </div>
            `,
            11: `
                <div class="space-y-6">
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-yellow font-black uppercase mb-3 border-b border-slate-800 pb-2">Desayunos y Meriendas (50g HC)</h3>
                        <ul class="list-disc pl-5 space-y-2 text-slate-300 text-xs">
                            <li>1 taza de caf√© con 200cc leche descremada + 2 rodajas (50g) pan integral + 30g mermelada light</li>
                            <li>200cc yogur descremado + 60g granola + 100g fruta</li>
                            <li>200cc infusi√≥n con leche o yogur + 2 rodajas pan integral + 1 huevo y claras revueltas (o 2 huevos)</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Almuerzos y Cenas (100g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">150g carnes + 200g veg C/fideos/pastas + 150g veg A + 250g veg B + 150g fruta + Aceite 10cc</p>
                    </div>
                </div>
            `,
            14: `
                <div class="space-y-6">
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-yellow font-black uppercase mb-3 border-b border-slate-800 pb-2">Desayunos y Meriendas (100g HC)</h3>
                        <ul class="list-disc pl-5 space-y-2 text-slate-300 text-xs">
                            <li>200ml leche + 60g vainillas (3) + 10g az√∫car + 200g fruta</li>
                            <li>Licuado (200 leche + 200 fruta + 10 az√∫car) + 60g vainillas (3)</li>
                            <li>200ml leche + 10g az√∫car (o 200 yogur) + 3 rodajas de pan integral + 30g queso + 30g mermelada + 300g fruta</li>
                            <li>200cc yogur + 3 pu√±ados granola + 1 pu√±ado frutos secos + 1 fruta grande</li>
                            <li>Caf√© con leche (200cc) + 10g az√∫car + s√°ndwich (60g queso fresco + 60g dulce compacto) + 1 fruta mediana</li>
                            <li>Caf√© con leche (200cc) + 10g az√∫car + 3 rodajas pan integral con 1 huevo + claras revuelto + 1 fruta grande</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Almuerzos y Cenas (150g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">200g de carnes + 1 huevo + 300g de veg C/fideos/pastas (1 plato hondo) + 150g veg A + 250g veg B + 150g fruta + Aceite 15cc</p>
                    </div>
                </div>
            `,
            15: `
                <div class="space-y-6">
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-yellow font-black uppercase mb-3 border-b border-slate-800 pb-2">Desayunos y Meriendas (75g HC)</h3>
                        <ul class="list-disc pl-5 space-y-2 text-slate-300 text-xs">
                            <li>1 taza de caf√© con 200cc de leche descremada + 3 rodajas (50g) pan integral + 30g queso untable descremado + 30g mermelada light</li>
                            <li>200cc yogur descremado + 60g granola + 1 tostado de queso (2 rodajas pan integral + 60g queso fresco light)</li>
                            <li>200cc yogur descremado + 80g granola + 150g fruta</li>
                            <li>200cc yogur descremado + 80g granola + 1 rodaja de pan integral + 1 huevo revuelto (+ claras)</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Almuerzos y Cenas (150g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">150g carnes + 1 huevo + 300g veg C/fideos/pastas + 200g veg A + 250g veg B + 150g fruta + Aceite 10cc</p>
                    </div>
                </div>
            `,
            16: `
                <div class="space-y-6">
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-yellow font-black uppercase mb-3 border-b border-slate-800 pb-2">Desayunos y Meriendas (70g HC)</h3>
                        <ul class="list-disc pl-5 space-y-2 text-slate-300 text-xs">
                            <li>1 taza de caf√© con 200cc de leche descremada + 2 rodajas (50g) pan integral + 30g queso untable descremado + 30g mermelada light</li>
                            <li>200cc yogur descremado + 1 tostado de queso (2 rodajas pan integral + 60g queso fresco light)</li>
                            <li>200cc yogur descremado + 60g granola + 100g fruta</li>
                            <li>1 taza de caf√© con 200cc leche descremada + 10g az√∫car + 2 rodajas pan integral + 1 huevo revuelto + 2-3 claras + 1 fruta mediana</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Almuerzos y Cenas (150g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">150g carnes + 1 huevo + 250g veg C/fideos/pastas (1 plato playo) + 150g veg A + 250g veg B + 200g fruta + Aceite 15cc</p>
                    </div>
                </div>
            `,
            17: `
                <div class="space-y-6">
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-yellow font-black uppercase mb-3 border-b border-slate-800 pb-2">Desayunos y Meriendas (50g HC)</h3>
                        <ul class="list-disc pl-5 space-y-2 text-slate-300 text-xs">
                            <li>1 taza de caf√© con 200cc de leche descremada + 2 rodajas (50g) pan integral + 30g queso untable + 30g mermelada light</li>
                            <li>200cc yogur descremado + 1 tostado de queso (2 rodajas pan integral + 60g queso fresco light)</li>
                            <li>200cc yogur descremado + 60g granola + 100g fruta</li>
                            <li>1 taza de caf√© con 200cc leche descremada + 2 rodajas pan integral + 1 huevo revuelto + claras</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Almuerzos (150g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">150g carnes + 250g veg C/fideos/pastas (1 plato playo) + 200g veg A + 300g veg B + 1 fruta mediana + Aceite 10cc</p>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Cenas (100g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">100g carnes + 1 huevo + 250g veg C/fideos/pastas + 100g veg A + 250g veg B + 1 fruta mediana + Aceite 10cc</p>
                    </div>
                </div>
            `,
            18: `
                <div class="space-y-6">
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-yellow font-black uppercase mb-3 border-b border-slate-800 pb-2">Desayunos y Meriendas (100g HC)</h3>
                        <ul class="list-disc pl-5 space-y-2 text-slate-300 text-xs">
                            <li>200ml leche + 60g vainillas (3) + 10g az√∫car + 200g fruta</li>
                            <li>Licuado (200 leche + 200 fruta + 10 az√∫car) + 60g vainillas (3)</li>
                            <li>200ml leche + 10g az√∫car (o 200 yogur) + 3 rodajas pan integral + 30g queso + 30g mermelada + 300g fruta</li>
                            <li>200cc yogur + 3 pu√±ados granola + 1 pu√±ado frutos secos + 1 fruta grande</li>
                            <li>Caf√© con leche (200cc) + 10g az√∫car + s√°ndwich (60g queso fresco + 60g dulce compacto) + 1 fruta mediana</li>
                            <li>Caf√© con leche (200cc) + 10g az√∫car + 3 rodajas pan integral con 1 huevo + claras revuelto + 1 fruta grande</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Almuerzos y Cenas (150g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">200g carnes + 1 huevo (opcional) + 250g veg C/fideos/pastas (1 plato playo) + 150g veg A + 250g veg B + 200g fruta + Aceite 10cc</p>
                    </div>
                </div>
            `,
            21: `
                <div class="space-y-6">
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-yellow font-black uppercase mb-3 border-b border-slate-800 pb-2">Desayunos y Meriendas (100g HC)</h3>
                        <ul class="list-disc pl-5 space-y-2 text-slate-300 text-xs">
                            <li>200ml leche o yogur + 60g vainillas (3) + 20g az√∫car + 200g fruta</li>
                            <li>Licuado (200 leche + 200 fruta + 20 az√∫car) + 60g vainillas (3)</li>
                            <li>200ml leche + 20g az√∫car (o 200 yogur) + 75g pan (3) + 60g queso + 60g mermelada + 200g fruta</li>
                            <li>300cc yogur + 3 pu√±ados granola o 2 frutos secos + 200g fruta</li>
                            <li>Mate + 3 tostadas pan integral + 1 huevo y claras + 200 fruta + 1 pu√±ado frutos secos</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Almuerzos (150g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">150g carnes + 1 huevo + 250g veg C/fideos/pastas + 200g veg A + 250g veg B + Aceite 15cc.</p>
                        <p class="text-xs text-slate-400 italic">Nota: Si no consumi√≥ fruta en des/mer, agregar 1 fruta mediana.</p>
                    </div>
                </div>
            `,
            22: `
                <div class="space-y-6">
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-yellow font-black uppercase mb-3 border-b border-slate-800 pb-2">Desayunos y Meriendas (50g HC)</h3>
                        <ul class="list-disc pl-5 space-y-2 text-slate-300 text-xs">
                            <li>1 taza de caf√© con 200cc de leche descremada + 2 rodajas (50g) de pan integral + 30g de queso untable descremado + 30g de mermelada light</li>
                            <li>200cc de yogur descremado + 1 tostado de queso (2 rodajas pan integral + 60g queso fresco tipo port salud light)</li>
                            <li>200cc de yogur descremado + 60g de granola + 100g fruta</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Almuerzos (100g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">200g de carnes + 1 huevo + 300g de veg C/fideos/pastas + 100g veg A + 200g veg B + 150g fruta + Aceite 15cc</p>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Cenas (75g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">200g pollo + 200g veg C + 200g veg A + 100g veg B + 200g fruta + Aceite 15cc</p>
                    </div>
                </div>
            `,
            23: `
                <div class="space-y-6">
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-yellow font-black uppercase mb-3 border-b border-slate-800 pb-2">Desayunos y Meriendas (50g HC)</h3>
                        <ul class="list-disc pl-5 space-y-2 text-slate-300 text-xs">
                            <li>1 taza de caf√© con 200cc de leche descremada + 2 rodajas (50g) pan integral + 30g queso untable descremado + 30g mermelada light</li>
                            <li>200cc yogur descremado + 1 tostado de queso (2 rodajas pan integral + 60g queso fresco light)</li>
                            <li>200cc yogur descremado + 60g granola + 100g fruta</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Almuerzos (100g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">200g carnes + 1 huevo + 300g veg C/fideos/pastas + 100g veg A + 200g veg B + 150g fruta + Aceite 15cc</p>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Cenas (75g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">200g pollo + 200g veg C + 200g veg A + 100g veg B + 200g fruta + Aceite 15cc</p>
                    </div>
                </div>
            `,
            24: `
                <div class="space-y-6">
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-yellow font-black uppercase mb-3 border-b border-slate-800 pb-2">Desayunos y Meriendas (50g HC)</h3>
                        <ul class="list-disc pl-5 space-y-2 text-slate-300 text-xs">
                            <li>1 taza de caf√© con 200cc de leche descremada + 2 rodajas (50g) pan integral + 30g queso untable descremado + 30g mermelada light</li>
                            <li>200cc yogur descremado + 1 tostado de queso (2 rodajas pan integral + 60g queso fresco light)</li>
                            <li>200cc yogur descremado + 60g granola + 100g fruta</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Almuerzos (100g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">200g carnes + 1 huevo + 300g veg C/fideos/pastas + 100g veg A + 200g veg B + 150g fruta + Aceite 15cc</p>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Cenas (75g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">200g pollo + 200g veg C + 200g veg A + 100g veg B + 200g fruta + Aceite 15cc</p>
                    </div>
                </div>
            `,
            25: `
                <div class="space-y-6">
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-yellow font-black uppercase mb-3 border-b border-slate-800 pb-2">Desayunos y Meriendas (50g HC)</h3>
                        <ul class="list-disc pl-5 space-y-2 text-slate-300 text-xs">
                            <li>1 taza de caf√© con 200cc de leche descremada + 2 rodajas (50g) pan integral + 30g queso untable descremado + 30g mermelada light</li>
                            <li>200cc yogur descremado + 1 tostado de queso (2 rodajas pan integral + 60g queso fresco light)</li>
                            <li>200cc yogur descremado + 60g granola + 100g fruta</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Almuerzos (100g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">200g carnes + 1 huevo + 300g veg C/fideos/pastas + 100g veg A + 200g veg B + 150g fruta + Aceite 15cc</p>
                    </div>
                    <div class="p-4 bg-slate-900 rounded-xl border border-slate-800">
                        <h3 class="text-club-green font-black uppercase mb-3 border-b border-slate-800 pb-2">Cenas (75g HC)</h3>
                        <p class="mb-3 text-white font-bold bg-slate-800 p-3 rounded text-xs">200g pollo + 200g veg C + 200g veg A + 100g veg B + 200g fruta + Aceite 15cc</p>
                    </div>
                </div>
            `
        };

        function parseNutri() {
            const lines = rawNutriCSV.split('\n');
            lines.forEach(line => {
                if(!line.trim()) return;
                const cols = line.split(';');
                const pFloat = (v) => v && v.trim() ? parseFloat(v.replace(',','.')) : null;
                
                const n = cols[0].trim().toLowerCase();
                let player = playersData.find(p => p.name.toLowerCase().includes(n.split(',')[0].trim()));
                if(player) {
                    player.nutri = {
                        age: pFloat(cols[1]), date: cols[2], peso_bruto: pFloat(cols[4]), talla_cor: pFloat(cols[5]),
                        diam_hum: pFloat(cols[6]), diam_fem: pFloat(cols[7]), per_bra_r: pFloat(cols[8]), per_bra_f: pFloat(cols[9]),
                        per_cin: pFloat(cols[10]), per_cad: pFloat(cols[11]), per_pan: pFloat(cols[12]), pl_tri: pFloat(cols[13]),
                        pl_sub: pFloat(cols[14]), pl_bic: pFloat(cols[15]), pl_cre: pFloat(cols[16]), pl_sup: pFloat(cols[17]),
                        pl_abd: pFloat(cols[18]), pl_mus: pFloat(cols[19]), pl_pan: pFloat(cols[20]), sum6: pFloat(cols[21]),
                        icc: cols[22].trim() === "sin datos" ? null : pFloat(cols[22]), elite_dif: pFloat(cols[24])
                    };
                }
            });
        }

        const ELITE = { musc: 48, adip: 11, visc: 4, cmj: 45, broad: 2.5, yoyo: 21.0, asym: 0, imc: 23.0, ed_met: 20, abk: 60.0 };
        const ELITE_NUTRI = { sum6: 50, tri: 6, sub: 8, bic: 4, cre: 8, sup: 6, abd: 10, mus: 10, pan: 6 };

        const REHAB_LIB = {
            "isquiosural": [{t: "Dead Bugs", v: "https://youtube.com/shorts/vn72PVWnu14?si=C9T2vir-Y8jEgnaq"}, {t: "Puente gl√∫teo unilateral", v: "https://youtube.com/shorts/Y-N53Q6XxiI?si=Sk3iLRYCAQVPlD2Z"}, {t: "Peso muerto rumano uni", v: "https://youtu.be/YXjc7TURwfE?si=o36r4eyuHhHHya2D"}],
            "movilidad": [{t: "Dorsiflexi√≥n c/ banda", v: "https://youtube.com/shorts/Re7XMKgAti8?si=mNm9ZWNQYnsRpOUO"}, {t: "Obelisco", v: "https://youtube.com/shorts/dWLrnRwY41c?si=qSBKdIW4-a8_YsL-"}, {t: "Movilidad Tor√°xica", v: "https://youtube.com/shorts/2et2ZXUk6co?si=FnRuSPQI139KEDzA"}],
            "tobillo": [{t: "Mov. Articular Rodilla/Tobillo", v: "https://youtube.com/shorts/dYS9cgYk2lY?si=-piVl3JfK_dp0DWn"}, {t: "Salto Alternado", v: "https://youtube.com/shorts/b5qmCWB8cpo?si=j1bZM645_6gVmSGv"}, {t: "Dorsiflexi√≥n c/ carga", v: "https://youtube.com/shorts/tXVq7MAOAVY?si=VU33wQ1dUapayBd_"}],
            "pelvica": [{t: "Bird-dog", v: "https://youtube.com/shorts/Tjo5oYHoS8M?si=GBghefTkKhePUDmt"}, {t: "Puente almeja c/ banda", v: "https://youtube.com/shorts/9vWRjF08xiQ?feature=shared"}, {t: "Isom√©tricos gl√∫teo medio", v: "https://youtube.com/shorts/oxouNCjxHWw?si=Vn2rU2hhv9rL3XA2"}],
            "cadera": [{t: "90-90 Rotaci√≥n interna", v: "https://youtube.com/shorts/p2NUakSyUcE?si=N_8SVkOBYFFqFxWp"}, {t: "Ranita", v: "https://youtube.com/shorts/cvgsb7xCgN4?si=5Wx1vtE2clpfyODa"}, {t: "Curl N√≥rdico invertido", v: "https://youtube.com/shorts/UZf6CbQR8_s?si=2ow191xDGdTTwZdQ"}],
            "escapular": [{t: "Movilidad Escapular", v: "https://youtube.com/shorts/5j4inxyq-MA?si=TfzdpSnAjLYWkqnZ"}, {t: "Halo Split KB", v: "https://youtube.com/shorts/UARPXzqDNhM?si=j8Ug-37tK0ka8g2v"}, {t: "P√°jaros con poleas", v: "https://youtu.be/ki6gkb_mJr0?si=hDASv1MqaavNI3_O"}]
        };

        const C_GREEN = '#10b981'; const C_YELLOW = '#f59e0b'; const C_RED = '#ef4444';
        let charts = {};
        let compSel = [1, 2, 3, 21];

        function handleCSVUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = function(e) { parseGlobalCSV(e.target.result); };
            reader.readAsText(file);
        }

        function parseGlobalCSV(text) {
            const lines = text.split('\n');
            if(lines.length < 2) return;
            let maxId = Math.max(...playersData.map(p => p.id), 0);
            for(let i = 1; i < lines.length; i++) {
                if(!lines[i].trim()) continue;
                const cols = lines[i].split(';');
                if(cols.length < 24) continue;
                let existingIdx = playersData.findIndex(p => p.name.trim().toLowerCase() === cols[0].trim().toLowerCase());
                let p = {
                    id: existingIdx !== -1 ? playersData[existingIdx].id : ++maxId,
                    name: cols[0].trim(), pos: cols[1].trim(), leg: cols[2].trim(), date: cols[3].trim(),
                    weight: parseFloat(cols[4]) || null, height: parseFloat(cols[5]) || null, musc: parseFloat(cols[6]) || null, adip: parseFloat(cols[7]) || null, visc: parseFloat(cols[8]) || null, imc: parseFloat(cols[9]) || null, ed_met: parseFloat(cols[10]) || null, y25: parseFloat(cols[11]) || null, y26: parseFloat(cols[12]) || null, cmj: parseFloat(cols[13]) || null, abk: parseFloat(cols[14]) || null, cmj_de: parseFloat(cols[15]) || null, cmj_iz: parseFloat(cols[16]) || null, broad: parseFloat(cols[17]) || null, broad_de: parseFloat(cols[18]) || null, broad_iz: parseFloat(cols[19]) || null,
                    kin: { t: cols[20] ? cols[20].trim() : "", c: cols[21] ? cols[21].trim() : "", u: cols[22] ? cols[22].trim() : "", s: cols[23] ? cols[23].trim() : "" }
                };
                if(p.cmj_de && p.cmj_iz) p.asym_cmj = parseFloat((p.cmj_de < p.cmj_iz ? -(((Math.max(p.cmj_de, p.cmj_iz) - Math.min(p.cmj_de, p.cmj_iz)) / Math.max(p.cmj_de, p.cmj_iz)) * 100) : (((Math.max(p.cmj_de, p.cmj_iz) - Math.min(p.cmj_de, p.cmj_iz)) / Math.max(p.cmj_de, p.cmj_iz)) * 100)).toFixed(2));
                if(p.broad_de && p.broad_iz) p.asym_br = parseFloat((p.broad_de < p.broad_iz ? -(((Math.max(p.broad_de, p.broad_iz) - Math.min(p.broad_de, p.broad_iz)) / Math.max(p.broad_de, p.broad_iz)) * 100) : (((Math.max(p.broad_de, p.broad_iz) - Math.min(p.broad_de, p.broad_iz)) / Math.max(p.broad_de, p.broad_iz)) * 100)).toFixed(2));
                
                existingIdx !== -1 ? playersData[existingIdx] = {...playersData[existingIdx], ...p} : playersData.push(p);
            }
            initSelectors();
            setTab('individual');
        }

        function getColorSemaforo(val, type) {
            if(val == null) return '#f8fafc';
            if(type === 'adip') return val <= 11 ? C_GREEN : (val <= 18 ? C_YELLOW : C_RED);
            if(type === 'asym') { let v = Math.abs(val); return v <= 10 ? C_GREEN : (v <= 15 ? C_YELLOW : C_RED); }
            if(type === 'musc') return val >= 46 ? C_GREEN : (val >= 42 ? C_YELLOW : C_RED);
            if(type === 'sum6') return val <= 50 ? C_GREEN : (val <= 60 ? C_YELLOW : C_RED);
            return '#f8fafc';
        }

        function setTab(view) {
            ['general', 'individual', 'nutri', 'compare'].forEach(v => {
                document.getElementById('view-' + v).classList.add('hidden');
                document.getElementById('tab-' + v).classList.remove('active', 'bg-club-green', 'text-slate-900');
                document.getElementById('tab-' + v).classList.add('text-slate-400');
            });
            document.getElementById('view-' + view).classList.remove('hidden');
            document.getElementById('tab-' + view).classList.add('active', 'bg-club-green', 'text-slate-900');
            document.getElementById('tab-' + view).classList.remove('text-slate-400');
            
            if(view === 'general') renderGeneral();
            if(view === 'individual') renderIndividual();
            if(view === 'nutri') renderNutri();
            if(view === 'compare') renderCompare(false);
        }

        function getAvg(arr, key, isNutri = false) {
            let sum = 0, count = 0;
            arr.forEach(p => { 
                let target = isNutri ? p.nutri : p;
                if(target && target[key] !== null && target[key] !== undefined && !isNaN(target[key])) { sum += target[key]; count++; } 
            });
            return count === 0 ? 0 : sum / count;
        }

        function renderGeneral() {
            document.getElementById('stat-musc').innerText = getAvg(playersData, 'musc').toFixed(1) + '%';
            document.getElementById('stat-adip').innerText = getAvg(playersData, 'adip').toFixed(1) + '%';
            document.getElementById('stat-yoyo').innerText = getAvg(playersData, 'y26').toFixed(1);
            
            let criticos = playersData.filter(p => (p.asym_cmj && Math.abs(p.asym_cmj) > 15) || (p.adip && p.adip > 18) || (p.nutri && p.nutri.sum6 > 60));
            document.getElementById('stat-alerts').innerText = criticos.length;

            let tCmj = [...playersData].filter(p => p.cmj).sort((a,b)=>b.cmj - a.cmj).slice(0,3);
            document.getElementById('top-cmj').innerHTML = tCmj.map(p => `<div class="flex justify-between text-[10px] md:text-xs font-bold"><span class="text-slate-300">${p.name.split(',')[0]}</span><span class="text-club-yellow">${p.cmj} cm</span></div>`).join('');
            
            let tYoYo = [...playersData].filter(p => p.y26).sort((a,b)=>b.y26 - a.y26).slice(0,3);
            document.getElementById('top-yoyo').innerHTML = tYoYo.map(p => `<div class="flex justify-between text-[10px] md:text-xs font-bold"><span class="text-slate-300">${p.name.split(',')[0]}</span><span class="text-club-green">${p.y26}</span></div>`).join('');
            
            let tNutri = [...playersData].filter(p => p.nutri && p.nutri.sum6).sort((a,b)=>a.nutri.sum6 - b.nutri.sum6).slice(0,3);
            document.getElementById('top-nutri').innerHTML = tNutri.map(p => `<div class="flex justify-between text-[10px] md:text-xs font-bold"><span class="text-slate-300">${p.name.split(',')[0]}</span><span class="text-emerald-500">${p.nutri.sum6} mm</span></div>`).join('');

            document.getElementById('critical-list').innerHTML = criticos.map(p => {
                let r = [];
                if(p.asym_cmj && Math.abs(p.asym_cmj)>15) r.push('Asim '+p.asym_cmj+'%');
                if(p.adip && p.adip>18) r.push('Adip '+p.adip+'%');
                if(p.nutri && p.nutri.sum6>60) r.push('Œ£6 '+p.nutri.sum6+'mm');
                return `<div class="p-2 bg-red-500/10 border border-red-500/20 rounded text-[9px] md:text-[10px] font-bold text-red-400 leading-tight">${p.name.split(',')[0]} (${r.join(', ')})</div>`
            }).join('');

            const pos = ["Cierre", "Ala", "Pivot", "Arquero"];
            if(charts.tPos) charts.tPos.destroy();
            charts.tPos = new Chart(document.getElementById('chart-team-pos'), {
                type: 'bar',
                data: {
                    labels: pos,
                    datasets: [
                        { label: 'CMJ Promedio', data: pos.map(p => getAvg(playersData.filter(x=>x.pos===p), 'cmj')), backgroundColor: C_YELLOW, borderRadius: 4 },
                        { label: 'Ideal Elite', data: pos.map(()=>ELITE.cmj), type: 'line', borderColor: C_GREEN, borderDash:[2,2], pointRadius:0 }
                    ]
                },
                options: { maintainAspectRatio: false, scales:{ y:{ grid:{color:'#1e293b'} } } }
            });
        }

        function renderIndividual() {
            const id = parseInt(document.getElementById('player-select').value);
            document.getElementById('nutri-player-select').value = id;
            const p = playersData.find(x => x.id === id);
            if(!p) return;

            let names = p.name.split(',');
            document.getElementById('ind-name').innerText = names[1] ? names[1].trim() : '';
            document.getElementById('ind-surname').innerText = names[0] || '';
            document.getElementById('ind-pos').innerText = p.pos || '--';
            document.getElementById('ind-date').innerText = p.date ? p.date.split('-').reverse().join('-') : '--';
            document.getElementById('ind-leg').innerText = p.leg || '--';
            document.getElementById('ind-weight').innerText = p.weight ? p.weight : '--';
            document.getElementById('ind-height').innerText = p.height ? (p.height * 100).toFixed(0) : '--';

            document.getElementById('ind-musc').innerText = p.musc ? p.musc + '%' : '--';
            document.getElementById('ind-musc').style.color = getColorSemaforo(p.musc, 'musc');
            document.getElementById('ind-eq-musc').innerText = getAvg(playersData, 'musc').toFixed(1) + '%';
            document.getElementById('ind-adip').innerText = p.adip ? p.adip + '%' : '--';
            document.getElementById('ind-adip').style.color = getColorSemaforo(p.adip, 'adip');
            document.getElementById('ind-eq-adip').innerText = getAvg(playersData, 'adip').toFixed(1) + '%';
            document.getElementById('ind-visc').innerText = p.visc ?? '--';
            document.getElementById('ind-eq-visc').innerText = getAvg(playersData, 'visc').toFixed(1);
            document.getElementById('ind-imc').innerText = p.imc ?? '--';
            document.getElementById('ind-eq-imc').innerText = getAvg(playersData, 'imc').toFixed(1);
            document.getElementById('ind-edmet').innerText = p.ed_met ?? '--';
            document.getElementById('ind-eq-edmet').innerText = getAvg(playersData, 'ed_met').toFixed(1);

            if(charts.iComp) charts.iComp.destroy();
            charts.iComp = new Chart(document.getElementById('chart-ind-comp'), {
                type: 'bar',
                data: { labels: ['M√∫sculo %', 'Adiposidad %'], datasets: [{ label: 'Jugador', data: [p.musc, p.adip], backgroundColor: C_YELLOW, borderRadius: 4 }, { label: 'Equipo', data: [getAvg(playersData, 'musc').toFixed(1), getAvg(playersData, 'adip').toFixed(1)], backgroundColor: '#475569', borderRadius: 4 }, { label: 'Elite', data: [ELITE.musc, ELITE.adip], backgroundColor: C_GREEN, borderRadius: 4 }] },
                options: { maintainAspectRatio: false, scales:{ y:{ grid:{color:'#1e293b'} } }, plugins:{ legend:{ labels:{ font:{size:10} } } } }
            });

            document.getElementById('ind-eq-yoyo').innerText = getAvg(playersData, 'y26').toFixed(1);
            let dif = (p.y26 && p.y25) ? (p.y26 - p.y25).toFixed(1) : null;
            document.getElementById('ind-y25').innerText = p.y25 || '--';
            document.getElementById('ind-y26').innerText = p.y26 || '--';
            let elDif = document.getElementById('ind-yoyo-dif');
            if(dif !== null) { elDif.innerText = dif > 0 ? '+'+dif : dif; elDif.className = `text-[9px] md:text-[10px] font-black ${dif >= 0 ? 'text-club-green' : 'text-red-500'}`; } else { elDif.innerText = '--'; }

            if(charts.iYoYo) charts.iYoYo.destroy();
            charts.iYoYo = new Chart(document.getElementById('chart-ind-yoyo'), {
                type: 'line',
                data: { labels: ['2025', '2026'], datasets: [{ label: 'Jugador', data: [p.y25, p.y26], borderColor: C_GREEN, backgroundColor: C_GREEN, tension: 0.1, borderWidth: 3 }, { label: 'Elite', data: [ELITE.yoyo, ELITE.yoyo], borderColor: '#22c55e', borderDash: [2,2], pointRadius: 0 }] },
                options: { maintainAspectRatio: false, scales:{ y:{ min: 15, grid:{color:'#1e293b'} } }, plugins:{ legend:{ labels:{ font:{size:10} } } } }
            });

            document.getElementById('pot-cmj').innerText = p.cmj || '--';
            document.getElementById('pot-cmjd').innerText = p.cmj_de || '--';
            document.getElementById('pot-cmji').innerText = p.cmj_iz || '--';
            document.getElementById('pot-difc').innerText = (p.cmj_de && p.cmj_iz) ? Math.abs(p.cmj_de - p.cmj_iz).toFixed(1) : '--';
            document.getElementById('pot-asymc').innerText = p.asym_cmj ? p.asym_cmj + '%' : '--';
            document.getElementById('pot-asymc').style.color = getColorSemaforo(p.asym_cmj, 'asym');
            document.getElementById('pot-eq-cmj').innerText = getAvg(playersData, 'cmj').toFixed(1);

            document.getElementById('pot-broad').innerText = p.broad || '--';
            document.getElementById('pot-broadd').innerText = p.broad_de || '--';
            document.getElementById('pot-broadi').innerText = p.broad_iz || '--';
            document.getElementById('pot-difb').innerText = (p.broad_de && p.broad_iz) ? Math.abs(p.broad_de - p.broad_iz).toFixed(2) : '--';
            document.getElementById('pot-asymb').innerText = p.asym_br ? p.asym_br + '%' : '--';
            document.getElementById('pot-asymb').style.color = getColorSemaforo(p.asym_br, 'asym');
            document.getElementById('pot-eq-broad').innerText = getAvg(playersData, 'broad').toFixed(2);
            document.getElementById('pot-abk').innerText = p.abk || '--';
            document.getElementById('pot-eq-abk').innerText = getAvg(playersData, 'abk').toFixed(1);

            if(charts.iPow) charts.iPow.destroy();
            charts.iPow = new Chart(document.getElementById('chart-ind-power'), {
                type: 'bar',
                data: { labels: ['Der', 'Izq'], datasets: [{ label: 'CMJ (cm)', data: [p.cmj_de, p.cmj_iz], backgroundColor: C_YELLOW }, { label: 'Broad (x10)', data: [p.broad_de ? p.broad_de*10 : null, p.broad_iz ? p.broad_iz*10 : null], backgroundColor: C_GREEN }] },
                options: { maintainAspectRatio: false, scales:{ y:{ grid:{color:'#1e293b'} } }, plugins:{ legend:{ labels:{ font:{size:10} } } } }
            });

            document.getElementById('kin-tob').innerText = (p.kin && p.kin.t) ? p.kin.t : 'Sin reg';
            document.getElementById('kin-cad').innerText = (p.kin && p.kin.c) ? p.kin.c : 'Sin reg';
            document.getElementById('kin-uni').innerText = (p.kin && p.kin.u) ? p.kin.u : 'Sin reg';
            document.getElementById('kin-sen').innerText = (p.kin && p.kin.s) ? p.kin.s : 'Sin reg';

            let eBox = document.getElementById('ind-exercises'); eBox.innerHTML = '';
            let txt = p.kin ? (p.kin.t + p.kin.c + p.kin.u + p.kin.s).toLowerCase() : "";
            let added = false;
            Object.keys(REHAB_LIB).forEach(k => { 
                if(txt.includes(k)) { 
                    added = true; 
                    REHAB_LIB[k].forEach(x => { 
                        eBox.innerHTML += `<div class="flex justify-between items-center p-2 bg-slate-900 rounded border border-slate-800"><button onclick="openVideoModal('${x.t}', '${x.v}')" class="text-[10px] md:text-xs font-bold text-slate-300 hover:text-white transition-colors cursor-pointer flex-grow text-left">‚Ä¢ ${x.t}</button><button onclick="openVideoModal('${x.t}', '${x.v}')" class="text-club-green hover:scale-110 transition-transform cursor-pointer flex-shrink-0">‚ñ∂Ô∏è</button></div>`; 
                    }); 
                } 
            });
            if(!added) eBox.innerHTML = `<p class="text-[10px] text-slate-500 italic text-center py-4">Sin prescripci√≥n</p>`;
        }

        function renderNutri() {
            const id = parseInt(document.getElementById('nutri-player-select').value);
            document.getElementById('player-select').value = id;
            const p = playersData.find(x => x.id === id);
            if(!p || !p.nutri) {
                ['nutri-age','nutri-date','nutri-weight','nutri-height','nutri-sum6','nutri-sum6-dif','nutri-icc','nutri-musc-bio','nutri-adip-bio', 'per-bra-r', 'per-bra-f', 'per-cin', 'per-cad', 'per-pan', 'dia-hum', 'dia-fem', 'pl-tri', 'pl-sub', 'pl-bic', 'pl-cre', 'pl-sup', 'pl-abd', 'pl-mus', 'pl-pan'].forEach(id => {
                    const el = document.getElementById(id); if(el) el.innerText = '--';
                });
                if(charts.nPl) charts.nPl.destroy();
                return;
            }

            const n = p.nutri;
            document.getElementById('nutri-age').innerText = n.age || '--';
            document.getElementById('nutri-date').innerText = n.date || '--';
            document.getElementById('nutri-weight').innerText = n.peso_bruto ? n.peso_bruto.toFixed(1) : '--';
            document.getElementById('nutri-height').innerText = n.talla_cor ? (n.talla_cor/100).toFixed(2) : '--';

            document.getElementById('nutri-sum6').innerText = n.sum6 ? n.sum6.toFixed(1) : '--';
            document.getElementById('nutri-sum6').style.color = getColorSemaforo(n.sum6, 'sum6');
            
            let dif = n.elite_dif;
            let elDif = document.getElementById('nutri-sum6-dif');
            if(dif !== undefined && dif !== null) {
                elDif.innerText = dif > 0 ? '+'+dif.toFixed(1) : dif.toFixed(1);
                elDif.className = dif <= 0 ? 'text-club-green' : 'text-red-500';
            } else { elDif.innerText = '--'; }

            document.getElementById('nutri-icc').innerText = n.icc || 'N/A';
            document.getElementById('nutri-musc-bio').innerText = p.musc ? p.musc + '%' : '--';
            document.getElementById('nutri-adip-bio').innerText = p.adip ? p.adip + '%' : '--';

            const fillP = (id, val, eqAvg) => {
                document.getElementById(id).innerText = val ? val.toFixed(1) : '--';
                document.getElementById(id.replace('pl-', 'pl-eq-')).innerText = eqAvg ? eqAvg.toFixed(1) : '--';
            };
            fillP('pl-tri', n.pl_tri, getAvg(playersData, 'pl_tri', true));
            fillP('pl-sub', n.pl_sub, getAvg(playersData, 'pl_sub', true));
            fillP('pl-bic', n.pl_bic, getAvg(playersData, 'pl_bic', true));
            fillP('pl-cre', n.pl_cre, getAvg(playersData, 'pl_cre', true));
            fillP('pl-sup', n.pl_sup, getAvg(playersData, 'pl_sup', true));
            fillP('pl-abd', n.pl_abd, getAvg(playersData, 'pl_abd', true));
            fillP('pl-mus', n.pl_mus, getAvg(playersData, 'pl_mus', true));
            fillP('pl-pan', n.pl_pan, getAvg(playersData, 'pl_pan', true));

            document.getElementById('per-bra-r').innerText = n.per_bra_r || '--';
            document.getElementById('per-bra-f').innerText = n.per_bra_f || '--';
            document.getElementById('per-cin').innerText = n.per_cin || '--';
            document.getElementById('per-cad').innerText = n.per_cad || '--';
            document.getElementById('per-pan').innerText = n.per_pan || '--';
            document.getElementById('dia-hum').innerText = n.diam_hum || '--';
            document.getElementById('dia-fem').innerText = n.diam_fem || '--';

            if(charts.nPl) charts.nPl.destroy();
            charts.nPl = new Chart(document.getElementById('chart-nutri-pliegues'), {
                type: 'radar',
                data: {
                    labels: ['Tr√≠ceps', 'Subesc.', 'B√≠ceps', 'Cresta', 'Supra.', 'Abdom.', 'Muslo', 'Pantor.'],
                    datasets: [
                        { label: 'Jugador', data: [n.pl_tri, n.pl_sub, n.pl_bic, n.pl_cre, n.pl_sup, n.pl_abd, n.pl_mus, n.pl_pan], borderColor: C_YELLOW, backgroundColor: 'rgba(245, 158, 11, 0.2)' },
                        { label: 'Equipo', data: [getAvg(playersData, 'pl_tri', true), getAvg(playersData, 'pl_sub', true), getAvg(playersData, 'pl_bic', true), getAvg(playersData, 'pl_cre', true), getAvg(playersData, 'pl_sup', true), getAvg(playersData, 'pl_abd', true), getAvg(playersData, 'pl_mus', true), getAvg(playersData, 'pl_pan', true)], borderColor: '#475569', fill: false, borderDash:[2,2] },
                        { label: 'Elite', data: [ELITE_NUTRI.tri, ELITE_NUTRI.sub, ELITE_NUTRI.bic, ELITE_NUTRI.cre, ELITE_NUTRI.sup, ELITE_NUTRI.abd, ELITE_NUTRI.mus, ELITE_NUTRI.pan], borderColor: C_GREEN, fill: false, borderDash:[5,5] }
                    ]
                },
                options: { maintainAspectRatio: false, scales:{ r:{ grid:{color:'#1e293b'}, pointLabels:{color:'#cbd5e1', font:{size:9}}, ticks:{display:false} } }, plugins:{ legend:{ labels:{ font:{size:10} } } } }
            });
        }

        function renderCompare(updateState = true) {
            if (updateState) {
                const s1 = document.getElementById('comp-1').value;
                const s2 = document.getElementById('comp-2').value;
                const s3 = document.getElementById('comp-3').value;
                const s4 = document.getElementById('comp-4').value;
                
                if (s1) compSel[0] = parseInt(s1);
                if (s2) compSel[1] = parseInt(s2);
                if (s3) compSel[2] = parseInt(s3);
                if (s4) compSel[3] = parseInt(s4);
            }

            const p = compSel.map(id => playersData.find(x => x.id === id)).filter(Boolean);
            const cols = ['#10b981', '#f59e0b', '#3b82f6', '#8b5cf6'];
            const labels = p.map(x => x.name.split(',')[0]);

            if(charts.mPow) charts.mPow.destroy();
            charts.mPow = new Chart(document.getElementById('chart-comp-power'), {
                type: 'bar',
                data: { labels: ['CMJ (cm)', 'Broad (x10)'], datasets: p.map((x, i) => ({ label: labels[i], data: [x.cmj, x.broad ? x.broad*10 : null], backgroundColor: cols[i], borderRadius: 4 })) },
                options: { maintainAspectRatio: false, scales:{ y:{ grid:{color:'#1e293b'} } }, plugins:{ legend:{ labels:{ font:{size:10} } } } }
            });

            if(charts.mComp) charts.mComp.destroy();
            charts.mComp = new Chart(document.getElementById('chart-comp-comp'), {
                type: 'bar',
                data: { labels: ['M√∫sculo %', 'Œ£6 Pliegues (mm)'], datasets: p.map((x, i) => ({ label: labels[i], data: [x.musc, x.nutri ? x.nutri.sum6 : null], backgroundColor: cols[i], borderRadius: 4 })) },
                options: { maintainAspectRatio: false, scales:{ y:{ grid:{color:'#1e293b'} } }, plugins:{ legend:{ labels:{ font:{size:10} } } } }
            });

            if(charts.mYo) charts.mYo.destroy();
            charts.mYo = new Chart(document.getElementById('chart-comp-yoyo'), {
                type: 'bar',
                data: { labels: labels, datasets: [{ label: 'Yo-Yo 2026', data: p.map(x => x.y26), backgroundColor: p.map((_, i) => cols[i]), borderRadius: 4 }] },
                options: { maintainAspectRatio: false, scales:{ y:{ grid:{color:'#1e293b'} } }, plugins:{legend:{display:false}} }
            });
        }

        function initSelectors() {
            const s = document.getElementById('player-select');
            const sn = document.getElementById('nutri-player-select');
            s.innerHTML = ''; sn.innerHTML = '';
            playersData.forEach(p => { 
                s.add(new Option(p.name, p.id));
                sn.add(new Option(p.name, p.id));
            });

            for(let i=1; i<=4; i++) {
                const el = document.getElementById('comp-'+i); el.innerHTML = '';
                playersData.forEach(p => { 
                    const o = new Option(p.name, p.id); 
                    if(p.id === compSel[i-1]) o.selected = true; 
                    el.add(o); 
                });
            }
        }

        function openNutriModal() {
            const id = parseInt(document.getElementById('nutri-player-select').value);
            const p = playersData.find(x => x.id === id);
            if(!p) return;
            
            document.getElementById('modal-player-name').innerText = p.name;
            const content = document.getElementById('modal-plan-content');
            
            if(p.nutri && p.nutri.plan) {
                content.innerHTML = p.nutri.plan;
            } else {
                content.innerHTML = '<p class="text-red-500 font-bold p-4 bg-red-900/20 rounded border border-red-500/30">Sin prescripci√≥n dietaria cargada en el sistema para este jugador.</p>';
            }
            
            document.getElementById('nutri-modal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeNutriModal() {
            document.getElementById('nutri-modal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        function getEmbedUrl(url) {
            let videoId = '';
            if (url.includes('shorts/')) {
                videoId = url.split('shorts/')[1].split('?')[0];
            } else if (url.includes('youtu.be/')) {
                videoId = url.split('youtu.be/')[1].split('?')[0];
            } else if (url.includes('youtube.com/watch?v=')) {
                videoId = url.split('v=')[1].split('&')[0];
            }
            return `https://www.youtube.com/embed/${videoId}?autoplay=1`;
        }

        function openVideoModal(title, url) {
            document.getElementById('video-modal-title').innerText = title;
            document.getElementById('video-iframe').src = getEmbedUrl(url);
            document.getElementById('video-modal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeVideoModal() {
            document.getElementById('video-modal').classList.add('hidden');
            document.getElementById('video-iframe').src = '';
            document.body.style.overflow = 'auto';
        }

        function init() {
            parseNutri();
            
            playersData.forEach(p => {
                if(p.nutri && PLANES_NUTRICIONALES[p.id]) {
                    p.nutri.plan = PLANES_NUTRICIONALES[p.id];
                } else if (!p.nutri && PLANES_NUTRICIONALES[p.id]) {
                    p.nutri = { plan: PLANES_NUTRICIONALES[p.id] };
                }
            });

            initSelectors();
            renderIndividual();
            renderNutri();
            renderGeneral();
            renderCompare(false);
        }

        document.addEventListener("DOMContentLoaded", init);
    </script>
</body>
</html>
